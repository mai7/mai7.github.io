<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"q0519.gitee.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Blog">
<meta property="og:url" content="https://q0519.gitee.io/page/3/index.html">
<meta property="og:site_name" content="Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Vincent Q">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://q0519.gitee.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/thread_pool/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Vincent Q">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/08/Design%20Pattern/Concurrent%20Pattern/thread_pool/" class="post-title-link" itemprop="url">Thread Pool 模式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-12-08 17:23:28 / Modified: 18:05:31" itemprop="dateCreated datePublished" datetime="2020-12-08T17:23:28+08:00">2020-12-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/" itemprop="url" rel="index"><span itemprop="name">Design Pattern</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/Concurrent-Pattern/" itemprop="url" rel="index"><span itemprop="name">Concurrent Pattern</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>线程池通过对任务及执行线程的管理，复用资源。</p>
<p>主要包括：1. 任务队列； 2. 工作线程调度</p>
<h3 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h3><ol>
<li><p>线程泄露</p>
<p>a) 由于线程执行错误导致线程池中线程意外终止，耗尽线程池。ThreadPool中已经对此情况进行了处理。( 延申： 怎么处理的)</p>
<p>b) 由于一些阻塞的任务，比如读取外部数据等，没有恰当的超时机制，导致线程池中工作线程均在等待，无法执行任务。</p>
<p>c) 死锁，活锁等</p>
</li>
<li><p>饱和策略</p>
</li>
<li><p>队列不受限导致溢出</p>
</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/active_object/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Vincent Q">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/08/Design%20Pattern/Concurrent%20Pattern/active_object/" class="post-title-link" itemprop="url">Activate Object 主动对象模式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-12-08 17:07:08 / Modified: 18:05:31" itemprop="dateCreated datePublished" datetime="2020-12-08T17:07:08+08:00">2020-12-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/" itemprop="url" rel="index"><span itemprop="name">Design Pattern</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/Concurrent-Pattern/" itemprop="url" rel="index"><span itemprop="name">Concurrent Pattern</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>主动对象将方法调用与方法执行进行解构，与该方法有关的上下文信息均会封装成一个对象，由另外的线程或调度管理来控制执行。</p>
<h3 id="类图"><a href="#类图" class="headerlink" title="类图"></a>类图</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="614px" preserveAspectRatio="none" style="width:555px;height:614px;background:#FFFFFF;" version="1.1" viewBox="0 0 555 614" width="555px" zoomAndPan="magnify"><defs><filter height="300%" id="fupn5p5fqxih7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ed6624c6556d5e7b1bd23032162d20b7]
class Client--><rect codeLine="1" fill="#FEFECE" filter="url(#fupn5p5fqxih7)" height="48" id="Client" style="stroke:#A80036;stroke-width:1.5;" width="65" x="444.5" y="7"/><ellipse cx="459.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M461.8438,18.6719 C460.9063,18.2344 460.3125,18.0938 459.4375,18.0938 C456.8125,18.0938 454.8125,20.1719 454.8125,22.8906 L454.8125,24.0156 C454.8125,26.5938 456.9219,28.4844 459.8125,28.4844 C461.0313,28.4844 462.1875,28.1875 462.9375,27.6406 C463.5156,27.2344 463.8438,26.7813 463.8438,26.3906 C463.8438,25.9375 463.4531,25.5469 462.9844,25.5469 C462.7656,25.5469 462.5625,25.625 462.375,25.8125 C461.9219,26.2969 461.9219,26.2969 461.7344,26.3906 C461.3125,26.6563 460.625,26.7813 459.8594,26.7813 C457.8125,26.7813 456.5156,25.6875 456.5156,23.9844 L456.5156,22.8906 C456.5156,21.1094 457.7656,19.7969 459.5,19.7969 C460.0781,19.7969 460.6875,19.9531 461.1563,20.2031 C461.6406,20.4844 461.8125,20.7031 461.9063,21.1094 C461.9688,21.5156 462,21.6406 462.1406,21.7656 C462.2813,21.9063 462.5156,22.0156 462.7344,22.0156 C463,22.0156 463.2656,21.875 463.4375,21.6563 C463.5469,21.5 463.5781,21.3125 463.5781,20.8906 L463.5781,19.4688 C463.5781,19.0313 463.5625,18.9063 463.4688,18.75 C463.3125,18.4844 463.0313,18.3438 462.7344,18.3438 C462.4375,18.3438 462.2344,18.4375 462.0156,18.75 L461.8438,18.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="33" x="473.5" y="27.1543">Client</text><line style="stroke:#A80036;stroke-width:1.5;" x1="445.5" x2="508.5" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="445.5" x2="508.5" y1="47" y2="47"/><!--MD5=[f7109e258b7e3e4bb390e34b115b99ce]
class Proxy--><rect codeLine="3" fill="#FEFECE" filter="url(#fupn5p5fqxih7)" height="60.8047" id="Proxy" style="stroke:#A80036;stroke-width:1.5;" width="203" x="259.5" y="116"/><ellipse cx="340.25" cy="132" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M342.5938,127.6719 C341.6563,127.2344 341.0625,127.0938 340.1875,127.0938 C337.5625,127.0938 335.5625,129.1719 335.5625,131.8906 L335.5625,133.0156 C335.5625,135.5938 337.6719,137.4844 340.5625,137.4844 C341.7813,137.4844 342.9375,137.1875 343.6875,136.6406 C344.2656,136.2344 344.5938,135.7813 344.5938,135.3906 C344.5938,134.9375 344.2031,134.5469 343.7344,134.5469 C343.5156,134.5469 343.3125,134.625 343.125,134.8125 C342.6719,135.2969 342.6719,135.2969 342.4844,135.3906 C342.0625,135.6563 341.375,135.7813 340.6094,135.7813 C338.5625,135.7813 337.2656,134.6875 337.2656,132.9844 L337.2656,131.8906 C337.2656,130.1094 338.5156,128.7969 340.25,128.7969 C340.8281,128.7969 341.4375,128.9531 341.9063,129.2031 C342.3906,129.4844 342.5625,129.7031 342.6563,130.1094 C342.7188,130.5156 342.75,130.6406 342.8906,130.7656 C343.0313,130.9063 343.2656,131.0156 343.4844,131.0156 C343.75,131.0156 344.0156,130.875 344.1875,130.6563 C344.2969,130.5 344.3281,130.3125 344.3281,129.8906 L344.3281,128.4688 C344.3281,128.0313 344.3125,127.9063 344.2188,127.75 C344.0625,127.4844 343.7813,127.3438 343.4844,127.3438 C343.1875,127.3438 342.9844,127.4375 342.7656,127.75 L342.5938,127.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="33" x="360.75" y="136.1543">Proxy</text><line style="stroke:#A80036;stroke-width:1.5;" x1="260.5" x2="461.5" y1="148" y2="148"/><line style="stroke:#A80036;stroke-width:1.5;" x1="260.5" x2="461.5" y1="156" y2="156"/><ellipse cx="270.5" cy="167" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="177" x="279.5" y="170.2104">asyncService( Object ) : Future</text><!--MD5=[8523c9eb2e1b5151dfc9c2a797373c5f]
class Scheduler--><rect codeLine="7" fill="#FEFECE" filter="url(#fupn5p5fqxih7)" height="73.6094" id="Scheduler" style="stroke:#A80036;stroke-width:1.5;" width="256" x="9" y="254"/><ellipse cx="102.25" cy="270" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M104.5938,265.6719 C103.6563,265.2344 103.0625,265.0938 102.1875,265.0938 C99.5625,265.0938 97.5625,267.1719 97.5625,269.8906 L97.5625,271.0156 C97.5625,273.5938 99.6719,275.4844 102.5625,275.4844 C103.7813,275.4844 104.9375,275.1875 105.6875,274.6406 C106.2656,274.2344 106.5938,273.7813 106.5938,273.3906 C106.5938,272.9375 106.2031,272.5469 105.7344,272.5469 C105.5156,272.5469 105.3125,272.625 105.125,272.8125 C104.6719,273.2969 104.6719,273.2969 104.4844,273.3906 C104.0625,273.6563 103.375,273.7813 102.6094,273.7813 C100.5625,273.7813 99.2656,272.6875 99.2656,270.9844 L99.2656,269.8906 C99.2656,268.1094 100.5156,266.7969 102.25,266.7969 C102.8281,266.7969 103.4375,266.9531 103.9063,267.2031 C104.3906,267.4844 104.5625,267.7031 104.6563,268.1094 C104.7188,268.5156 104.75,268.6406 104.8906,268.7656 C105.0313,268.9063 105.2656,269.0156 105.4844,269.0156 C105.75,269.0156 106.0156,268.875 106.1875,268.6563 C106.2969,268.5 106.3281,268.3125 106.3281,267.8906 L106.3281,266.4688 C106.3281,266.0313 106.3125,265.9063 106.2188,265.75 C106.0625,265.4844 105.7813,265.3438 105.4844,265.3438 C105.1875,265.3438 104.9844,265.4375 104.7656,265.75 L104.5938,265.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="61" x="122.75" y="274.1543">Scheduler</text><line style="stroke:#A80036;stroke-width:1.5;" x1="10" x2="264" y1="286" y2="286"/><line style="stroke:#A80036;stroke-width:1.5;" x1="10" x2="264" y1="294" y2="294"/><ellipse cx="20" cy="305" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="29" y="308.2104">dispatch()</text><ellipse cx="20" cy="317.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="230" x="29" y="321.0151">enqueue( methodReq : MethodRequest)</text><!--MD5=[7ac0d861308d3e6f548cc9575b4620cb]
class ActivationQueue--><rect codeLine="12" fill="#FEFECE" filter="url(#fupn5p5fqxih7)" height="73.6094" id="ActivationQueue" style="stroke:#A80036;stroke-width:1.5;" width="260" x="7" y="389"/><ellipse cx="83.75" cy="405" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M86.0938,400.6719 C85.1563,400.2344 84.5625,400.0938 83.6875,400.0938 C81.0625,400.0938 79.0625,402.1719 79.0625,404.8906 L79.0625,406.0156 C79.0625,408.5938 81.1719,410.4844 84.0625,410.4844 C85.2813,410.4844 86.4375,410.1875 87.1875,409.6406 C87.7656,409.2344 88.0938,408.7813 88.0938,408.3906 C88.0938,407.9375 87.7031,407.5469 87.2344,407.5469 C87.0156,407.5469 86.8125,407.625 86.625,407.8125 C86.1719,408.2969 86.1719,408.2969 85.9844,408.3906 C85.5625,408.6563 84.875,408.7813 84.1094,408.7813 C82.0625,408.7813 80.7656,407.6875 80.7656,405.9844 L80.7656,404.8906 C80.7656,403.1094 82.0156,401.7969 83.75,401.7969 C84.3281,401.7969 84.9375,401.9531 85.4063,402.2031 C85.8906,402.4844 86.0625,402.7031 86.1563,403.1094 C86.2188,403.5156 86.25,403.6406 86.3906,403.7656 C86.5313,403.9063 86.7656,404.0156 86.9844,404.0156 C87.25,404.0156 87.5156,403.875 87.6875,403.6563 C87.7969,403.5 87.8281,403.3125 87.8281,402.8906 L87.8281,401.4688 C87.8281,401.0313 87.8125,400.9063 87.7188,400.75 C87.5625,400.4844 87.2813,400.3438 86.9844,400.3438 C86.6875,400.3438 86.4844,400.4375 86.2656,400.75 L86.0938,400.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="104.25" y="409.1543">ActivationQueue</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="266" y1="421" y2="421"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="266" y1="429" y2="429"/><ellipse cx="18" cy="440" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="234" x="27" y="443.2104">enqueue( methodReq : MethodRequest )</text><ellipse cx="18" cy="452.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="164" x="27" y="456.0151">dequeue () : MethodRequest</text><!--MD5=[6f55398781c5f964533f8511f7366b70]
class MethodRequest--><rect codeLine="17" fill="#FEFECE" filter="url(#fupn5p5fqxih7)" height="60.8047" id="MethodRequest" style="stroke:#A80036;stroke-width:1.5;" width="126" x="300" y="260.5"/><ellipse cx="315" cy="276.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M317.3438,272.1719 C316.4063,271.7344 315.8125,271.5938 314.9375,271.5938 C312.3125,271.5938 310.3125,273.6719 310.3125,276.3906 L310.3125,277.5156 C310.3125,280.0938 312.4219,281.9844 315.3125,281.9844 C316.5313,281.9844 317.6875,281.6875 318.4375,281.1406 C319.0156,280.7344 319.3438,280.2813 319.3438,279.8906 C319.3438,279.4375 318.9531,279.0469 318.4844,279.0469 C318.2656,279.0469 318.0625,279.125 317.875,279.3125 C317.4219,279.7969 317.4219,279.7969 317.2344,279.8906 C316.8125,280.1563 316.125,280.2813 315.3594,280.2813 C313.3125,280.2813 312.0156,279.1875 312.0156,277.4844 L312.0156,276.3906 C312.0156,274.6094 313.2656,273.2969 315,273.2969 C315.5781,273.2969 316.1875,273.4531 316.6563,273.7031 C317.1406,273.9844 317.3125,274.2031 317.4063,274.6094 C317.4688,275.0156 317.5,275.1406 317.6406,275.2656 C317.7813,275.4063 318.0156,275.5156 318.2344,275.5156 C318.5,275.5156 318.7656,275.375 318.9375,275.1563 C319.0469,275 319.0781,274.8125 319.0781,274.3906 L319.0781,272.9688 C319.0781,272.5313 319.0625,272.4063 318.9688,272.25 C318.8125,271.9844 318.5313,271.8438 318.2344,271.8438 C317.9375,271.8438 317.7344,271.9375 317.5156,272.25 L317.3438,272.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="329" y="280.6543">MethodRequest</text><line style="stroke:#A80036;stroke-width:1.5;" x1="301" x2="425" y1="292.5" y2="292.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="301" x2="425" y1="300.5" y2="300.5"/><ellipse cx="311" cy="311.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="27" x="320" y="314.7104">call()</text><!--MD5=[a1b8371b5b3d6eab25cd19c8ab04f757]
class Servant--><rect codeLine="21" fill="#FEFECE" filter="url(#fupn5p5fqxih7)" height="60.8047" id="Servant" style="stroke:#A80036;stroke-width:1.5;" width="110" x="82" y="540"/><ellipse cx="111.4" cy="556" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M113.7438,551.6719 C112.8063,551.2344 112.2125,551.0938 111.3375,551.0938 C108.7125,551.0938 106.7125,553.1719 106.7125,555.8906 L106.7125,557.0156 C106.7125,559.5938 108.8219,561.4844 111.7125,561.4844 C112.9313,561.4844 114.0875,561.1875 114.8375,560.6406 C115.4156,560.2344 115.7438,559.7813 115.7438,559.3906 C115.7438,558.9375 115.3531,558.5469 114.8844,558.5469 C114.6656,558.5469 114.4625,558.625 114.275,558.8125 C113.8219,559.2969 113.8219,559.2969 113.6344,559.3906 C113.2125,559.6563 112.525,559.7813 111.7594,559.7813 C109.7125,559.7813 108.4156,558.6875 108.4156,556.9844 L108.4156,555.8906 C108.4156,554.1094 109.6656,552.7969 111.4,552.7969 C111.9781,552.7969 112.5875,552.9531 113.0563,553.2031 C113.5406,553.4844 113.7125,553.7031 113.8063,554.1094 C113.8688,554.5156 113.9,554.6406 114.0406,554.7656 C114.1813,554.9063 114.4156,555.0156 114.6344,555.0156 C114.9,555.0156 115.1656,554.875 115.3375,554.6563 C115.4469,554.5 115.4781,554.3125 115.4781,553.8906 L115.4781,552.4688 C115.4781,552.0313 115.4625,551.9063 115.3688,551.75 C115.2125,551.4844 114.9313,551.3438 114.6344,551.3438 C114.3375,551.3438 114.1344,551.4375 113.9156,551.75 L113.7438,551.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="46" x="128.6" y="560.1543">Servant</text><line style="stroke:#A80036;stroke-width:1.5;" x1="83" x2="191" y1="572" y2="572"/><line style="stroke:#A80036;stroke-width:1.5;" x1="83" x2="191" y1="580" y2="580"/><ellipse cx="93" cy="591" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="84" x="102" y="594.2104">doSomething()</text><!--MD5=[9473c99003db6b535952ab3e34a44ff8]
class Future--><rect fill="#FEFECE" filter="url(#fupn5p5fqxih7)" height="48" id="Future" style="stroke:#A80036;stroke-width:1.5;" width="70" x="471" y="267"/><ellipse cx="486" cy="283" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M488.3438,278.6719 C487.4063,278.2344 486.8125,278.0938 485.9375,278.0938 C483.3125,278.0938 481.3125,280.1719 481.3125,282.8906 L481.3125,284.0156 C481.3125,286.5938 483.4219,288.4844 486.3125,288.4844 C487.5313,288.4844 488.6875,288.1875 489.4375,287.6406 C490.0156,287.2344 490.3438,286.7813 490.3438,286.3906 C490.3438,285.9375 489.9531,285.5469 489.4844,285.5469 C489.2656,285.5469 489.0625,285.625 488.875,285.8125 C488.4219,286.2969 488.4219,286.2969 488.2344,286.3906 C487.8125,286.6563 487.125,286.7813 486.3594,286.7813 C484.3125,286.7813 483.0156,285.6875 483.0156,283.9844 L483.0156,282.8906 C483.0156,281.1094 484.2656,279.7969 486,279.7969 C486.5781,279.7969 487.1875,279.9531 487.6563,280.2031 C488.1406,280.4844 488.3125,280.7031 488.4063,281.1094 C488.4688,281.5156 488.5,281.6406 488.6406,281.7656 C488.7813,281.9063 489.0156,282.0156 489.2344,282.0156 C489.5,282.0156 489.7656,281.875 489.9375,281.6563 C490.0469,281.5 490.0781,281.3125 490.0781,280.8906 L490.0781,279.4688 C490.0781,279.0313 490.0625,278.9063 489.9688,278.75 C489.8125,278.4844 489.5313,278.3438 489.2344,278.3438 C488.9375,278.3438 488.7344,278.4375 488.5156,278.75 L488.3438,278.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="38" x="500" y="287.1543">Future</text><line style="stroke:#A80036;stroke-width:1.5;" x1="472" x2="540" y1="299" y2="299"/><line style="stroke:#A80036;stroke-width:1.5;" x1="472" x2="540" y1="307" y2="307"/><!--MD5=[6c8bde876792f198e3004b5674ea61b5]
link Client to Proxy--><path codeLine="25" d="M453.246,55.242 C436.468,71.659 413.733,93.904 395.032,112.201 " fill="none" id="Client-to-Proxy" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="391.349,115.805,400.5794,112.37,394.9229,112.3083,394.9846,106.6517,391.349,115.805" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8eb0a365200d5a3cbac713a6dc9efe98]
link Client to Future--><path codeLine="26" d="M479.625,55.351 C484.963,102.84 497.065,210.51 502.831,261.807 " fill="none" id="Client-to-Future" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="503.402,266.888,506.3718,257.4976,502.8436,261.9193,498.4219,258.391,503.402,266.888" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[922722391205c23119148be12abecf78]
link Proxy to Future--><path codeLine="27" d="M391.044,177.026 C416.819,202.356 453.647,238.55 478.62,263.092 " fill="none" id="Proxy-to-Future" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="482.216,266.626,478.6008,257.4647,478.6499,263.1213,472.9933,263.1704,482.216,266.626" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="439" y="220.0669">create</text><!--MD5=[bbbd6c54c6929ecb5e279c12f072525f]
link Proxy to MethodRequest--><path codeLine="28" d="M361.414,177.026 C361.731,199.611 362.17,230.833 362.505,254.732 " fill="none" id="Proxy-to-MethodRequest" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="362.579,260.021,366.45,250.9648,362.5076,255.0215,358.4508,251.0791,362.579,260.021" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="364" y="220.0669">create</text><!--MD5=[71c2a629c9b23f564c0da2367af1119f]
link Proxy to Scheduler--><path codeLine="29" d="M314.587,177.026 C280.846,198.491 234.844,227.755 198.115,251.121 " fill="none" id="Proxy-to-Scheduler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="193.683,253.941,203.4235,252.4842,197.9014,251.2568,199.1288,245.7347,193.683,253.941" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8ffed7f29b046ae57345b2e0df64c519]
link Scheduler to ActivationQueue--><path codeLine="30" d="M137,328.343 C137,345.35 137,365.696 137,383.324 " fill="none" id="Scheduler-to-ActivationQueue" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="137,388.701,141,379.701,137,383.701,133,379.701,137,388.701" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[351c70a05f6f16a5b9d23fe86c34cfb9]
link ActivationQueue to Servant--><path codeLine="31" d="M137,463.327 C137,485.313 137,513.1928 137,534.8657 " fill="none" id="ActivationQueue-to-Servant" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="137,539.9523,141,530.9523,137,534.9523,133,530.9523,137,539.9523" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="138" y="506.0669">call</text><!--MD5=[71d2583e3cf87583461172e0f154fe8f]
@startuml
class Client

class Proxy {
	+asyncService( Object ) : Future
}

class Scheduler {
	+dispatch()
	+enqueue( methodReq : MethodRequest)
}

class ActivationQueue {
	+enqueue( methodReq : MethodRequest )
	+dequeue () : MethodRequest
}

class MethodRequest {
	+call()
}

class Servant {
	+doSomething()
}

Client ..> Proxy 
Client ..> Future
Proxy ..> Future :create
Proxy ..> MethodRequest :create
Proxy - -> Scheduler
Scheduler - -> ActivationQueue
ActivationQueue ..> Servant :call
@enduml

PlantUML version 1.2021.9beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/product_consumer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Vincent Q">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/08/Design%20Pattern/Concurrent%20Pattern/product_consumer/" class="post-title-link" itemprop="url">Product-consumer 模式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-12-08 16:07:54 / Modified: 18:32:35" itemprop="dateCreated datePublished" datetime="2020-12-08T16:07:54+08:00">2020-12-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/" itemprop="url" rel="index"><span itemprop="name">Design Pattern</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/Concurrent-Pattern/" itemprop="url" rel="index"><span itemprop="name">Concurrent Pattern</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/promise/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Vincent Q">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/08/Design%20Pattern/Concurrent%20Pattern/promise/" class="post-title-link" itemprop="url">Promise 承诺模式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-12-08 15:32:12 / Modified: 15:50:09" itemprop="dateCreated datePublished" datetime="2020-12-08T15:32:12+08:00">2020-12-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/" itemprop="url" rel="index"><span itemprop="name">Design Pattern</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/Concurrent-Pattern/" itemprop="url" rel="index"><span itemprop="name">Concurrent Pattern</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>通过返回包含阻塞方法的凭据对象，使得调用方法无需等待即可继续执行，待需要结果时，通过调用凭据对象的阻塞方法获取结果。</p>
<h3 id="类图"><a href="#类图" class="headerlink" title="类图"></a>类图</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="457px" preserveAspectRatio="none" style="width:254px;height:457px;background:#FFFFFF;" version="1.1" viewBox="0 0 254 457" width="254px" zoomAndPan="magnify"><defs><filter height="300%" id="f1n1sfr9ua9xwo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ed6624c6556d5e7b1bd23032162d20b7]
class Client--><rect codeLine="1" fill="#FEFECE" filter="url(#f1n1sfr9ua9xwo)" height="48" id="Client" style="stroke:#A80036;stroke-width:1.5;" width="65" x="113.5" y="7"/><ellipse cx="128.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M130.8438,18.6719 C129.9063,18.2344 129.3125,18.0938 128.4375,18.0938 C125.8125,18.0938 123.8125,20.1719 123.8125,22.8906 L123.8125,24.0156 C123.8125,26.5938 125.9219,28.4844 128.8125,28.4844 C130.0313,28.4844 131.1875,28.1875 131.9375,27.6406 C132.5156,27.2344 132.8438,26.7813 132.8438,26.3906 C132.8438,25.9375 132.4531,25.5469 131.9844,25.5469 C131.7656,25.5469 131.5625,25.625 131.375,25.8125 C130.9219,26.2969 130.9219,26.2969 130.7344,26.3906 C130.3125,26.6563 129.625,26.7813 128.8594,26.7813 C126.8125,26.7813 125.5156,25.6875 125.5156,23.9844 L125.5156,22.8906 C125.5156,21.1094 126.7656,19.7969 128.5,19.7969 C129.0781,19.7969 129.6875,19.9531 130.1563,20.2031 C130.6406,20.4844 130.8125,20.7031 130.9063,21.1094 C130.9688,21.5156 131,21.6406 131.1406,21.7656 C131.2813,21.9063 131.5156,22.0156 131.7344,22.0156 C132,22.0156 132.2656,21.875 132.4375,21.6563 C132.5469,21.5 132.5781,21.3125 132.5781,20.8906 L132.5781,19.4688 C132.5781,19.0313 132.5625,18.9063 132.4688,18.75 C132.3125,18.4844 132.0313,18.3438 131.7344,18.3438 C131.4375,18.3438 131.2344,18.4375 131.0156,18.75 L130.8438,18.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="33" x="142.5" y="27.1543">Client</text><line style="stroke:#A80036;stroke-width:1.5;" x1="114.5" x2="177.5" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="114.5" x2="177.5" y1="47" y2="47"/><!--MD5=[443d23e8e2b3ceb395e1e555e3eab31e]
class Promisor--><rect codeLine="3" fill="#FEFECE" filter="url(#f1n1sfr9ua9xwo)" height="60.8047" id="Promisor" style="stroke:#A80036;stroke-width:1.5;" width="133" x="19.5" y="115"/><ellipse cx="56.1" cy="131" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M58.4438,126.6719 C57.5063,126.2344 56.9125,126.0938 56.0375,126.0938 C53.4125,126.0938 51.4125,128.1719 51.4125,130.8906 L51.4125,132.0156 C51.4125,134.5938 53.5219,136.4844 56.4125,136.4844 C57.6313,136.4844 58.7875,136.1875 59.5375,135.6406 C60.1156,135.2344 60.4438,134.7813 60.4438,134.3906 C60.4438,133.9375 60.0531,133.5469 59.5844,133.5469 C59.3656,133.5469 59.1625,133.625 58.975,133.8125 C58.5219,134.2969 58.5219,134.2969 58.3344,134.3906 C57.9125,134.6563 57.225,134.7813 56.4594,134.7813 C54.4125,134.7813 53.1156,133.6875 53.1156,131.9844 L53.1156,130.8906 C53.1156,129.1094 54.3656,127.7969 56.1,127.7969 C56.6781,127.7969 57.2875,127.9531 57.7563,128.2031 C58.2406,128.4844 58.4125,128.7031 58.5063,129.1094 C58.5688,129.5156 58.6,129.6406 58.7406,129.7656 C58.8813,129.9063 59.1156,130.0156 59.3344,130.0156 C59.6,130.0156 59.8656,129.875 60.0375,129.6563 C60.1469,129.5 60.1781,129.3125 60.1781,128.8906 L60.1781,127.4688 C60.1781,127.0313 60.1625,126.9063 60.0688,126.75 C59.9125,126.4844 59.6313,126.3438 59.3344,126.3438 C59.0375,126.3438 58.8344,126.4375 58.6156,126.75 L58.4438,126.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="53" x="74.9" y="135.1543">Promisor</text><line style="stroke:#A80036;stroke-width:1.5;" x1="20.5" x2="151.5" y1="147" y2="147"/><line style="stroke:#A80036;stroke-width:1.5;" x1="20.5" x2="151.5" y1="155" y2="155"/><ellipse cx="30.5" cy="166" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="107" x="39.5" y="169.2104">Promise compute()</text><!--MD5=[f1a375cc0ebc9f2bec7aa9b05864ef19]
class TaskExecutor--><rect codeLine="6" fill="#FEFECE" filter="url(#f1n1sfr9ua9xwo)" height="60.8047" id="TaskExecutor" style="stroke:#A80036;stroke-width:1.5;" width="113" x="29.5" y="236"/><ellipse cx="44.5" cy="252" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M46.8438,247.6719 C45.9063,247.2344 45.3125,247.0938 44.4375,247.0938 C41.8125,247.0938 39.8125,249.1719 39.8125,251.8906 L39.8125,253.0156 C39.8125,255.5938 41.9219,257.4844 44.8125,257.4844 C46.0313,257.4844 47.1875,257.1875 47.9375,256.6406 C48.5156,256.2344 48.8438,255.7813 48.8438,255.3906 C48.8438,254.9375 48.4531,254.5469 47.9844,254.5469 C47.7656,254.5469 47.5625,254.625 47.375,254.8125 C46.9219,255.2969 46.9219,255.2969 46.7344,255.3906 C46.3125,255.6563 45.625,255.7813 44.8594,255.7813 C42.8125,255.7813 41.5156,254.6875 41.5156,252.9844 L41.5156,251.8906 C41.5156,250.1094 42.7656,248.7969 44.5,248.7969 C45.0781,248.7969 45.6875,248.9531 46.1563,249.2031 C46.6406,249.4844 46.8125,249.7031 46.9063,250.1094 C46.9688,250.5156 47,250.6406 47.1406,250.7656 C47.2813,250.9063 47.5156,251.0156 47.7344,251.0156 C48,251.0156 48.2656,250.875 48.4375,250.6563 C48.5469,250.5 48.5781,250.3125 48.5781,249.8906 L48.5781,248.4688 C48.5781,248.0313 48.5625,247.9063 48.4688,247.75 C48.3125,247.4844 48.0313,247.3438 47.7344,247.3438 C47.4375,247.3438 47.2344,247.4375 47.0156,247.75 L46.8438,247.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="58.5" y="256.1543">TaskExecutor</text><line style="stroke:#A80036;stroke-width:1.5;" x1="30.5" x2="141.5" y1="268" y2="268"/><line style="stroke:#A80036;stroke-width:1.5;" x1="30.5" x2="141.5" y1="276" y2="276"/><ellipse cx="40.5" cy="287" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="49.5" y="290.2104">run()</text><!--MD5=[2741598bdf59a7d7e0d5c97658fd3022]
class Result--><rect codeLine="9" fill="#FEFECE" filter="url(#f1n1sfr9ua9xwo)" height="48" id="Result" style="stroke:#A80036;stroke-width:1.5;" width="68" x="172" y="376"/><ellipse cx="187" cy="392" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M189.3438,387.6719 C188.4063,387.2344 187.8125,387.0938 186.9375,387.0938 C184.3125,387.0938 182.3125,389.1719 182.3125,391.8906 L182.3125,393.0156 C182.3125,395.5938 184.4219,397.4844 187.3125,397.4844 C188.5313,397.4844 189.6875,397.1875 190.4375,396.6406 C191.0156,396.2344 191.3438,395.7813 191.3438,395.3906 C191.3438,394.9375 190.9531,394.5469 190.4844,394.5469 C190.2656,394.5469 190.0625,394.625 189.875,394.8125 C189.4219,395.2969 189.4219,395.2969 189.2344,395.3906 C188.8125,395.6563 188.125,395.7813 187.3594,395.7813 C185.3125,395.7813 184.0156,394.6875 184.0156,392.9844 L184.0156,391.8906 C184.0156,390.1094 185.2656,388.7969 187,388.7969 C187.5781,388.7969 188.1875,388.9531 188.6563,389.2031 C189.1406,389.4844 189.3125,389.7031 189.4063,390.1094 C189.4688,390.5156 189.5,390.6406 189.6406,390.7656 C189.7813,390.9063 190.0156,391.0156 190.2344,391.0156 C190.5,391.0156 190.7656,390.875 190.9375,390.6563 C191.0469,390.5 191.0781,390.3125 191.0781,389.8906 L191.0781,388.4688 C191.0781,388.0313 191.0625,387.9063 190.9688,387.75 C190.8125,387.4844 190.5313,387.3438 190.2344,387.3438 C189.9375,387.3438 189.7344,387.4375 189.5156,387.75 L189.3438,387.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="201" y="396.1543">Result</text><line style="stroke:#A80036;stroke-width:1.5;" x1="173" x2="239" y1="408" y2="408"/><line style="stroke:#A80036;stroke-width:1.5;" x1="173" x2="239" y1="416" y2="416"/><!--MD5=[b59cb0292cbab4b73c77d0ad579c4efd]
class Promise--><rect codeLine="11" fill="#FEFECE" filter="url(#f1n1sfr9ua9xwo)" height="86.4141" id="Promise" style="stroke:#A80036;stroke-width:1.5;" width="130" x="7" y="357"/><ellipse cx="44.5" cy="373" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M46.8438,368.6719 C45.9063,368.2344 45.3125,368.0938 44.4375,368.0938 C41.8125,368.0938 39.8125,370.1719 39.8125,372.8906 L39.8125,374.0156 C39.8125,376.5938 41.9219,378.4844 44.8125,378.4844 C46.0313,378.4844 47.1875,378.1875 47.9375,377.6406 C48.5156,377.2344 48.8438,376.7813 48.8438,376.3906 C48.8438,375.9375 48.4531,375.5469 47.9844,375.5469 C47.7656,375.5469 47.5625,375.625 47.375,375.8125 C46.9219,376.2969 46.9219,376.2969 46.7344,376.3906 C46.3125,376.6563 45.625,376.7813 44.8594,376.7813 C42.8125,376.7813 41.5156,375.6875 41.5156,373.9844 L41.5156,372.8906 C41.5156,371.1094 42.7656,369.7969 44.5,369.7969 C45.0781,369.7969 45.6875,369.9531 46.1563,370.2031 C46.6406,370.4844 46.8125,370.7031 46.9063,371.1094 C46.9688,371.5156 47,371.6406 47.1406,371.7656 C47.2813,371.9063 47.5156,372.0156 47.7344,372.0156 C48,372.0156 48.2656,371.875 48.4375,371.6563 C48.5469,371.5 48.5781,371.3125 48.5781,370.8906 L48.5781,369.4688 C48.5781,369.0313 48.5625,368.9063 48.4688,368.75 C48.3125,368.4844 48.0313,368.3438 47.7344,368.3438 C47.4375,368.3438 47.2344,368.4375 47.0156,368.75 L46.8438,368.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="63.5" y="377.1543">Promise</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="136" y1="389" y2="389"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="136" y1="397" y2="397"/><ellipse cx="18" cy="408" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="27" y="411.2104">Result getResult()</text><ellipse cx="18" cy="420.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="27" y="424.0151">setResult( Result )</text><ellipse cx="18" cy="433.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="27" y="436.8198">isDone()</text><!--MD5=[942327270a8f2ccb3a614b72a69fd8cc]
link Client to Promisor--><path codeLine="17" d="M133.713,55.038 C125.243,70.92 113.837,92.305 104.3013,110.185 " fill="none" id="Client-to-Promisor" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="101.9201,114.65,109.6847,108.591,104.2729,110.2382,102.6258,104.8265,101.9201,114.65" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5ea63eac58c27fa85012a05effbb153c]
link Client to Result--><path codeLine="19" d="M153.7,55.013 C158.971,71.539 165.75,94.434 170,115 C189.157,207.7 199.735,319.662 203.896,370.9147 " fill="none" id="Client-to-Result" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="204.302,375.9773,207.5695,366.6863,203.9022,370.9933,199.5951,367.326,204.302,375.9773" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[59a89bbfb2c42d0f04faa58ba718f231]
link Promisor to TaskExecutor--><path codeLine="21" d="M86,176.222 C86,192.692 86,213.264 86,230.508 " fill="none" id="Promisor-to-TaskExecutor" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="86,235.745,90,226.745,86,230.745,82,226.745,86,235.745" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a940c7f23864681c79c1fb76262dc48b]
link TaskExecutor to Promise--><path codeLine="23" d="M82.8581,297.011 C81.1411,313.139 78.9738,333.496 77.0278,351.7741 " fill="none" id="TaskExecutor-to-Promise" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="76.4854,356.8691,81.4159,348.3432,77.0148,351.8972,73.4609,347.4962,76.4854,356.8691" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f5c86a66c2bd4a1200de654cea7643c5]
link TaskExecutor to Result--><path codeLine="25" d="M112.93,297.011 C133.442,319.488 161.451,350.182 181.371,372.0108 " fill="none" id="TaskExecutor-to-Result" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="184.744,375.707,181.6315,366.3629,181.3734,372.0138,175.7225,371.7558,184.744,375.707" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[55daff12b987649c520f12f1e4d9f86b]
@startuml
class Client

class Promisor {
	+Promise compute()
}
class TaskExecutor {
	+run()
}
class Result

class Promise {
	+Result getResult()
	+setResult( Result )
	+isDone()
}

Client ..> Promisor

Client ..> Result

Promisor ..> TaskExecutor

TaskExecutor ..> Promise 

TaskExecutor ..> Result
@enduml

PlantUML version 1.2021.9beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>

<h3 id="Sequence-Diagram"><a href="#Sequence-Diagram" class="headerlink" title="Sequence Diagram"></a>Sequence Diagram</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="218px" preserveAspectRatio="none" style="width:331px;height:218px;background:#FFFFFF;" version="1.1" viewBox="0 0 331 218" width="331px" zoomAndPan="magnify"><defs><filter height="300%" id="f51l4t81xaxoy" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f51l4t81xaxoy)" height="43.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="147.5" y="71.4297"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="35" x2="35" y1="40.2969" y2="175.6953"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="152.5" x2="152.5" y1="40.2969" y2="175.6953"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="283.5" x2="283.5" y1="40.2969" y2="175.6953"/><rect fill="#FEFECE" filter="url(#f51l4t81xaxoy)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="12" y="24.9951">Client</text><rect fill="#FEFECE" filter="url(#f51l4t81xaxoy)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="5" y="174.6953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="12" y="194.6904">Client</text><rect fill="#FEFECE" filter="url(#f51l4t81xaxoy)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="78" x="111.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="118.5" y="24.9951">Promisor</text><rect fill="#FEFECE" filter="url(#f51l4t81xaxoy)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="78" x="111.5" y="174.6953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="118.5" y="194.6904">Promisor</text><rect fill="#FEFECE" filter="url(#f51l4t81xaxoy)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="72" x="245.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="252.5" y="24.9951">Promise</text><rect fill="#FEFECE" filter="url(#f51l4t81xaxoy)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="72" x="245.5" y="174.6953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="252.5" y="194.6904">Promise</text><rect fill="#FFFFFF" filter="url(#f51l4t81xaxoy)" height="43.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="147.5" y="71.4297"/><polygon fill="#A80036" points="135.5,67.4297,145.5,71.4297,135.5,75.4297,139.5,71.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35.5" x2="141.5" y1="71.4297" y2="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="42.5" y="66.3638">1 : computer()</text><polygon fill="#A80036" points="271.5,96.5625,281.5,100.5625,271.5,104.5625,275.5,100.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="157.5" x2="277.5" y1="100.5625" y2="100.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="164.5" y="95.4966">2 : &lt;&lt;create&gt;&gt;</text><polygon fill="#A80036" points="46.5,110.5625,36.5,114.5625,46.5,118.5625,42.5,114.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40.5" x2="151.5" y1="114.5625" y2="114.5625"/><polygon fill="#A80036" points="271.5,139.6953,281.5,143.6953,271.5,147.6953,275.5,143.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35.5" x2="277.5" y1="143.6953" y2="143.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="42.5" y="138.6294">4 : getResult()</text><polygon fill="#A80036" points="46.5,153.6953,36.5,157.6953,46.5,161.6953,42.5,157.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40.5" x2="282.5" y1="157.6953" y2="157.6953"/><!--MD5=[d603908d690f26ebeea6c627aadde1a3]
@startuml
Client -> Promisor++ :1 : computer()
Promisor -> Promise :2 : <<create>>
return

Client -> Promise :4 : getResult()
return
@enduml

PlantUML version 1.2021.9beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/two-phase_termination/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Vincent Q">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/08/Design%20Pattern/Concurrent%20Pattern/two-phase_termination/" class="post-title-link" itemprop="url">Two-phase Termination 两阶段终止模式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-12-08 15:19:17 / Modified: 15:50:09" itemprop="dateCreated datePublished" datetime="2020-12-08T15:19:17+08:00">2020-12-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/" itemprop="url" rel="index"><span itemprop="name">Design Pattern</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/Concurrent-Pattern/" itemprop="url" rel="index"><span itemprop="name">Concurrent Pattern</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>将线程停止拆分成准备阶段及执行阶段两个步骤。</p>
<ol>
<li><p>准备阶段</p>
<p>通知相应线程需要停止，在线程池的场景，一般包括设置停止标志，调用可中断线程的interrupt方法，关闭等待IO操作的Socket等</p>
</li>
<li><p>停止</p>
<p>检查准备阶段设置的停止信号，决定线程停止时机，进行适当清理等。</p>
</li>
</ol>
<p>Java ThreadPoolExecutor就使用了此类模式来停止其维护的线程。</p>
<p>​    </p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/immutable_object/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Vincent Q">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/08/Design%20Pattern/Concurrent%20Pattern/immutable_object/" class="post-title-link" itemprop="url">Imumutable Object</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-12-08 13:16:58 / Modified: 14:24:32" itemprop="dateCreated datePublished" datetime="2020-12-08T13:16:58+08:00">2020-12-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/" itemprop="url" rel="index"><span itemprop="name">Design Pattern</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/Concurrent-Pattern/" itemprop="url" rel="index"><span itemprop="name">Concurrent Pattern</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="不可变对象及其作用"><a href="#不可变对象及其作用" class="headerlink" title="不可变对象及其作用"></a>不可变对象及其作用</h3><p>通过使用不可变对象表征对象状态，避免访问状态时的同步需求。</p>
<p>所谓状态不可变，并非指现实世界的实体状态不可变，而是我们建模时的一种决策，即可以用不可变状态表示某时刻的状态，事物状态变化可以用替换为其他不可变对象表示。</p>
<h3 id="Immutable-Object-类图"><a href="#Immutable-Object-类图" class="headerlink" title="Immutable Object 类图"></a>Immutable Object 类图</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="349px" preserveAspectRatio="none" style="width:454px;height:349px;background:#FFFFFF;" version="1.1" viewBox="0 0 454 349" width="454px" zoomAndPan="magnify"><defs><filter height="300%" id="fetlf3nc4bro1" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ed6624c6556d5e7b1bd23032162d20b7]
class Client--><rect codeLine="1" fill="#FEFECE" filter="url(#fetlf3nc4bro1)" height="48" id="Client" style="stroke:#A80036;stroke-width:1.5;" width="65" x="197" y="7"/><ellipse cx="212" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M214.3438,18.6719 C213.4063,18.2344 212.8125,18.0938 211.9375,18.0938 C209.3125,18.0938 207.3125,20.1719 207.3125,22.8906 L207.3125,24.0156 C207.3125,26.5938 209.4219,28.4844 212.3125,28.4844 C213.5313,28.4844 214.6875,28.1875 215.4375,27.6406 C216.0156,27.2344 216.3438,26.7813 216.3438,26.3906 C216.3438,25.9375 215.9531,25.5469 215.4844,25.5469 C215.2656,25.5469 215.0625,25.625 214.875,25.8125 C214.4219,26.2969 214.4219,26.2969 214.2344,26.3906 C213.8125,26.6563 213.125,26.7813 212.3594,26.7813 C210.3125,26.7813 209.0156,25.6875 209.0156,23.9844 L209.0156,22.8906 C209.0156,21.1094 210.2656,19.7969 212,19.7969 C212.5781,19.7969 213.1875,19.9531 213.6563,20.2031 C214.1406,20.4844 214.3125,20.7031 214.4063,21.1094 C214.4688,21.5156 214.5,21.6406 214.6406,21.7656 C214.7813,21.9063 215.0156,22.0156 215.2344,22.0156 C215.5,22.0156 215.7656,21.875 215.9375,21.6563 C216.0469,21.5 216.0781,21.3125 216.0781,20.8906 L216.0781,19.4688 C216.0781,19.0313 216.0625,18.9063 215.9688,18.75 C215.8125,18.4844 215.5313,18.3438 215.2344,18.3438 C214.9375,18.3438 214.7344,18.4375 214.5156,18.75 L214.3438,18.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="33" x="226" y="27.1543">Client</text><line style="stroke:#A80036;stroke-width:1.5;" x1="198" x2="261" y1="39" y2="39"/><line style="stroke:#A80036;stroke-width:1.5;" x1="198" x2="261" y1="47" y2="47"/><!--MD5=[e6b5a67f046c47f8f224e24eebb57bcd]
class Manipulator--><rect codeLine="2" fill="#FEFECE" filter="url(#fetlf3nc4bro1)" height="60.8047" id="Manipulator" style="stroke:#A80036;stroke-width:1.5;" width="211" x="7" y="140.5"/><ellipse cx="73.75" cy="156.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M76.0938,152.1719 C75.1563,151.7344 74.5625,151.5938 73.6875,151.5938 C71.0625,151.5938 69.0625,153.6719 69.0625,156.3906 L69.0625,157.5156 C69.0625,160.0938 71.1719,161.9844 74.0625,161.9844 C75.2813,161.9844 76.4375,161.6875 77.1875,161.1406 C77.7656,160.7344 78.0938,160.2813 78.0938,159.8906 C78.0938,159.4375 77.7031,159.0469 77.2344,159.0469 C77.0156,159.0469 76.8125,159.125 76.625,159.3125 C76.1719,159.7969 76.1719,159.7969 75.9844,159.8906 C75.5625,160.1563 74.875,160.2813 74.1094,160.2813 C72.0625,160.2813 70.7656,159.1875 70.7656,157.4844 L70.7656,156.3906 C70.7656,154.6094 72.0156,153.2969 73.75,153.2969 C74.3281,153.2969 74.9375,153.4531 75.4063,153.7031 C75.8906,153.9844 76.0625,154.2031 76.1563,154.6094 C76.2188,155.0156 76.25,155.1406 76.3906,155.2656 C76.5313,155.4063 76.7656,155.5156 76.9844,155.5156 C77.25,155.5156 77.5156,155.375 77.6875,155.1563 C77.7969,155 77.8281,154.8125 77.8281,154.3906 L77.8281,152.9688 C77.8281,152.5313 77.8125,152.4063 77.7188,152.25 C77.5625,151.9844 77.2813,151.8438 76.9844,151.8438 C76.6875,151.8438 76.4844,151.9375 76.2656,152.25 L76.0938,152.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="69" x="94.25" y="160.6543">Manipulator</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="217" y1="172.5" y2="172.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="217" y1="180.5" y2="180.5"/><ellipse cx="18" cy="191.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="185" x="27" y="194.7104">void changeStatusTo(int x, int y)</text><!--MD5=[1d051411bfd12184afb640e9f4bbb608]
class ImmutableState--><rect codeLine="5" fill="#FEFECE" filter="url(#fetlf3nc4bro1)" height="112.0234" id="ImmutableState" style="stroke:#A80036;stroke-width:1.5;" width="187" x="253" y="115"/><ellipse cx="295.9" cy="131" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M298.2438,126.6719 C297.3063,126.2344 296.7125,126.0938 295.8375,126.0938 C293.2125,126.0938 291.2125,128.1719 291.2125,130.8906 L291.2125,132.0156 C291.2125,134.5938 293.3219,136.4844 296.2125,136.4844 C297.4313,136.4844 298.5875,136.1875 299.3375,135.6406 C299.9156,135.2344 300.2438,134.7813 300.2438,134.3906 C300.2438,133.9375 299.8531,133.5469 299.3844,133.5469 C299.1656,133.5469 298.9625,133.625 298.775,133.8125 C298.3219,134.2969 298.3219,134.2969 298.1344,134.3906 C297.7125,134.6563 297.025,134.7813 296.2594,134.7813 C294.2125,134.7813 292.9156,133.6875 292.9156,131.9844 L292.9156,130.8906 C292.9156,129.1094 294.1656,127.7969 295.9,127.7969 C296.4781,127.7969 297.0875,127.9531 297.5563,128.2031 C298.0406,128.4844 298.2125,128.7031 298.3063,129.1094 C298.3688,129.5156 298.4,129.6406 298.5406,129.7656 C298.6813,129.9063 298.9156,130.0156 299.1344,130.0156 C299.4,130.0156 299.6656,129.875 299.8375,129.6563 C299.9469,129.5 299.9781,129.3125 299.9781,128.8906 L299.9781,127.4688 C299.9781,127.0313 299.9625,126.9063 299.8688,126.75 C299.7125,126.4844 299.4313,126.3438 299.1344,126.3438 C298.8375,126.3438 298.6344,126.4375 298.4156,126.75 L298.2438,126.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="93" x="316.1" y="135.1543">ImmutableState</text><line style="stroke:#A80036;stroke-width:1.5;" x1="254" x2="439" y1="147" y2="147"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="261" y="155"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="273" y="161.2104">final int x</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="261" y="167.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="273" y="174.0151">final int y</text><ellipse cx="264" cy="183.6094" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="45" x="273" y="186.8198">int getX</text><ellipse cx="264" cy="196.4141" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="273" y="199.6245">int getY</text><line style="stroke:#A80036;stroke-width:1.5;" x1="254" x2="439" y1="206.2188" y2="206.2188"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="261" y="214.2188"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="273" y="220.4292">ImmutableState( int x, int y)</text><!--MD5=[e3238b9fd03ab94daa938f5e19edf1ad]
class ImmutalbeState--><rect fill="#FEFECE" filter="url(#fetlf3nc4bro1)" height="48" id="ImmutalbeState" style="stroke:#A80036;stroke-width:1.5;" width="125" x="50" y="287"/><ellipse cx="65" cy="303" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M67.3438,298.6719 C66.4063,298.2344 65.8125,298.0938 64.9375,298.0938 C62.3125,298.0938 60.3125,300.1719 60.3125,302.8906 L60.3125,304.0156 C60.3125,306.5938 62.4219,308.4844 65.3125,308.4844 C66.5313,308.4844 67.6875,308.1875 68.4375,307.6406 C69.0156,307.2344 69.3438,306.7813 69.3438,306.3906 C69.3438,305.9375 68.9531,305.5469 68.4844,305.5469 C68.2656,305.5469 68.0625,305.625 67.875,305.8125 C67.4219,306.2969 67.4219,306.2969 67.2344,306.3906 C66.8125,306.6563 66.125,306.7813 65.3594,306.7813 C63.3125,306.7813 62.0156,305.6875 62.0156,303.9844 L62.0156,302.8906 C62.0156,301.1094 63.2656,299.7969 65,299.7969 C65.5781,299.7969 66.1875,299.9531 66.6563,300.2031 C67.1406,300.4844 67.3125,300.7031 67.4063,301.1094 C67.4688,301.5156 67.5,301.6406 67.6406,301.7656 C67.7813,301.9063 68.0156,302.0156 68.2344,302.0156 C68.5,302.0156 68.7656,301.875 68.9375,301.6563 C69.0469,301.5 69.0781,301.3125 69.0781,300.8906 L69.0781,299.4688 C69.0781,299.0313 69.0625,298.9063 68.9688,298.75 C68.8125,298.4844 68.5313,298.3438 68.2344,298.3438 C67.9375,298.3438 67.7344,298.4375 67.5156,298.75 L67.3438,298.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="93" x="79" y="307.1543">ImmutalbeState</text><line style="stroke:#A80036;stroke-width:1.5;" x1="51" x2="174" y1="319" y2="319"/><line style="stroke:#A80036;stroke-width:1.5;" x1="51" x2="174" y1="327" y2="327"/><!--MD5=[5f15049ab25688dcf9e926fd701a54a6]
link Client to Manipulator--><path codeLine="12" d="M209.917,55.098 C191.145,77.239 162.589,110.921 141.24,136.101 " fill="none" id="Client-to-Manipulator" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="137.878,140.067,146.7495,135.7895,141.1117,136.2534,140.6478,130.6156,137.878,140.067" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e5ad24d8a3b1b3bbea1c607c5a86a42d]
link Client to ImmutableState--><path codeLine="13" d="M249.083,55.098 C262.073,70.42 279.749,91.268 296.479,111.001 " fill="none" id="Client-to-ImmutableState" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="299.811,114.931,297.0433,105.479,296.5782,111.1167,290.9405,110.6516,299.811,114.931" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[aded766624436b47609ac3bf77b407f4]
reverse link Manipulator to ImmutalbeState--><path codeLine="14" d="M112.5,214.923 C112.5,238.6699 112.5,267.248 112.5,286.8326 " fill="none" id="Manipulator-backto-ImmutalbeState" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="112.5,201.604,108.5,207.604,112.5,213.604,116.5,207.604,112.5,201.604" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b8be19f8f450c1804c0d75e82be01cf1]
@startuml
class Client
class Manipulator {
    +void changeStatusTo(int x, int y)
}
class ImmutableState {
    -final int x
    -final int y
    -ImmutableState( int x, int y)
    +int getX
    +int getY
}
Client - -> Manipulator
Client - -> ImmutableState
Manipulator o- - ImmutalbeState
@enduml

PlantUML version 1.2021.9beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>


<h3 id="Sequence-Diagram"><a href="#Sequence-Diagram" class="headerlink" title="Sequence Diagram"></a>Sequence Diagram</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="365px" preserveAspectRatio="none" style="width:510px;height:365px;background:#FFFFFF;" version="1.1" viewBox="0 0 510 365" width="510px" zoomAndPan="magnify"><defs><filter height="300%" id="f1rrdyyzq55ke2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="263.0938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="30.5" y="50.2969"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="139" y="71.4297"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="139" y="129.6953"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="139" y="290.3906"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="20.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="411" y="227.0938"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="35" x2="35" y1="40.2969" y2="322.3906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="144" x2="144" y1="40.2969" y2="322.3906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="266" x2="266" y1="40.2969" y2="322.3906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="415.5" x2="415.5" y1="228.6094" y2="322.3906"/><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="12" y="24.9951">Client</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="5" y="321.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="12" y="341.3857">Client</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="76" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="83" y="24.9951">ImmutableState</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="132" x="76" y="321.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="83" y="341.3857">ImmutableState</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="85" x="222" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="229" y="24.9951">Manulator</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="85" x="222" y="321.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="229" y="341.3857">Manulator</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="331.5" y="321.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="338.5" y="341.3857">new ImmutableState</text><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="263.0938" style="stroke:#A80036;stroke-width:1.0;" width="10" x="30.5" y="50.2969"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="139" y="71.4297"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="139" y="129.6953"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="14" style="stroke:#A80036;stroke-width:1.0;" width="10" x="139" y="290.3906"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="20.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="411" y="227.0938"/><polygon fill="#A80036" points="127,67.4297,137,71.4297,127,75.4297,131,71.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="40.5" x2="133" y1="71.4297" y2="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="47.5" y="66.3638">getStateX</text><polygon fill="#A80036" points="51.5,96.5625,41.5,100.5625,51.5,104.5625,47.5,100.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="45.5" x2="143" y1="100.5625" y2="100.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="57.5" y="95.4966">StateX</text><polygon fill="#A80036" points="127,125.6953,137,129.6953,127,133.6953,131,129.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="40.5" x2="133" y1="129.6953" y2="129.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="47.5" y="124.6294">getStateY</text><polygon fill="#A80036" points="51.5,154.8281,41.5,158.8281,51.5,162.8281,47.5,158.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="45.5" x2="143" y1="158.8281" y2="158.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="57.5" y="153.7622">StateY</text><polygon fill="#A80036" points="254.5,183.9609,264.5,187.9609,254.5,191.9609,258.5,187.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="40.5" x2="260.5" y1="187.9609" y2="187.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="47.5" y="182.895">changeState</text><polygon fill="#A80036" points="319.5,213.0938,329.5,217.0938,319.5,221.0938,323.5,217.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="266.5" x2="325.5" y1="217.0938" y2="217.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="273.5" y="212.0278">create</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="165" x="331.5" y="195.9609"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="338.5" y="215.9561">new ImmutableState</text><polygon fill="#A80036" points="277.5,243.2578,267.5,247.2578,277.5,251.2578,273.5,247.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="271.5" x2="415" y1="247.2578" y2="247.2578"/><polygon fill="#A80036" points="51.5,257.2578,41.5,261.2578,51.5,265.2578,47.5,261.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="45.5" x2="265.5" y1="261.2578" y2="261.2578"/><polygon fill="#A80036" points="127,286.3906,137,290.3906,127,294.3906,131,290.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="40.5" x2="133" y1="290.3906" y2="290.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="47.5" y="285.3247">getState()</text><polygon fill="#A80036" points="51.5,300.3906,41.5,304.3906,51.5,308.3906,47.5,304.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="45.5" x2="143" y1="304.3906" y2="304.3906"/><!--MD5=[5404305b3eaaba0788c9a9be1db34c42]
@startuml
activate Client

Client -> ImmutableState++ :getStateX

return StateX
Client -> ImmutableState++ :getStateY
return StateY
Client -> Manulator :changeState
    Manulator -> "new ImmutableState"** :create
    activate "new ImmutableState"
    return 
Manulator - -> Client
Client -> ImmutableState++ :getState()
return
@enduml

PlantUML version 1.2021.9beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://q0519.gitee.io/2020/12/05/Others/git_tutorial/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Vincent Q">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/05/Others/git_tutorial/" class="post-title-link" itemprop="url">GIT Rebase 学习 //TODO</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-12-05 22:27:21" itemprop="dateCreated datePublished" datetime="2020-12-05T22:27:21+08:00">2020-12-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-01-16 11:30:11" itemprop="dateModified" datetime="2021-01-16T11:30:11+08:00">2021-01-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Others/" itemprop="url" rel="index"><span itemprop="name">Others</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="动机"><a href="#动机" class="headerlink" title="动机"></a>动机</h3><p>一般git rebase在过去项目中很少用到，最近阅读了如下blog, <a target="_blank" rel="noopener" href="https://blog.scottlogic.com/2020/01/09/git-rebasing.html">Git Rebase</a> ，很赞同作者说的“提交历史质量与代码质量同等重要” ，因此在囫囵吞枣式地阅读了一下后，有了如下笔记。</p>
<h2 id="Rebase的适用情形"><a href="#Rebase的适用情形" class="headerlink" title="Rebase的适用情形"></a>Rebase的适用情形</h2><ul>
<li>Edit/rework a commit in the history </li>
<li>修订提交历史</li>
<li>Add a commit into the history of a change set (or branch)</li>
<li>增加一个改变集合或分支的提交到历史</li>
<li>Remove a commit from the history of a change set (or branch)</li>
<li>删除一个改变集合或分支的提交到历史</li>
<li>Split a commit into several commits</li>
<li>拆分一个提交到若干各提交</li>
<li>Combine a series of commits into one commit</li>
<li>合并一系列提交为一个单独提交</li>
<li>Re-order commits</li>
<li>重新排序提交</li>
</ul>
<h3 id="用于合并本地若干次提交"><a href="#用于合并本地若干次提交" class="headerlink" title="用于合并本地若干次提交"></a>用于合并本地若干次提交</h3><p>将本地近三次提交合并，可以通过rebase -i 进入交互式编辑</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i HEAD~3</span><br></pre></td></tr></table></figure>

<p>之后，在文本编辑界面中，将看到最近几次提交的记录，类似</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pick 09i3foe comments</span><br><span class="line">pick jeo32jo comments</span><br><span class="line">pick je323jo comments</span><br></pre></td></tr></table></figure>

<p>此时，可以通过改变pick命令来完成多次提交的合并。相关指令说明：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Commands:</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> p, pick &lt;commit&gt; = use commit</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> r, reword &lt;commit&gt; = use commit, but edit the commit message</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> e, edit &lt;commit&gt; = use commit, but stop <span class="keyword">for</span> amending</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> s, squash &lt;commit&gt; = use commit, but meld into previous commit</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> f, fixup &lt;commit&gt; = like <span class="string">&quot;squash&quot;</span>, but discard this commit<span class="string">&#x27;s log message</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> x, <span class="built_in">exec</span> &lt;<span class="built_in">command</span>&gt; = run <span class="built_in">command</span> (the rest of the line) using shell</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> b, <span class="built_in">break</span> = stop here (<span class="built_in">continue</span> Rebase later with <span class="string">&#x27;git rebase --continue&#x27;</span>)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> d, drop &lt;commit&gt; = remove commit</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> l, label &lt;label&gt; = label current HEAD with a name</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> t, reset &lt;label&gt; = reset HEAD to a label</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [<span class="comment"># &lt;oneline&gt;]</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> .       create a merge commit using the original merge commit<span class="string">&#x27;s</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> .       message (or the oneline, <span class="keyword">if</span> no original merge commit was</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> .       specified). Use -c &lt;commit&gt; to reword the commit message.</span></span><br></pre></td></tr></table></figure>

<p>显然，可以通过将第一个保留为pick，将其他的改为squash或者fixup来完成多条提交合并。</p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://q0519.gitee.io/2020/12/04/Design%20Pattern/Concurrent%20Pattern/guarded_suspension/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Vincent Q">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/04/Design%20Pattern/Concurrent%20Pattern/guarded_suspension/" class="post-title-link" itemprop="url">Guarded Suspension 保护性暂挂模式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-12-04 17:59:42" itemprop="dateCreated datePublished" datetime="2020-12-04T17:59:42+08:00">2020-12-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-12-08 18:33:02" itemprop="dateModified" datetime="2020-12-08T18:33:02+08:00">2020-12-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/" itemprop="url" rel="index"><span itemprop="name">Design Pattern</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/Concurrent-Pattern/" itemprop="url" rel="index"><span itemprop="name">Concurrent Pattern</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Guarded-Suspension-保护性暂挂"><a href="#Guarded-Suspension-保护性暂挂" class="headerlink" title="Guarded Suspension 保护性暂挂"></a>Guarded Suspension 保护性暂挂</h3><p>当持有锁时，如果条件不满足，暂时挂起执行线程，等待条件满足时再次唤醒，判断条件后，执行操作。</p>
<h3 id="伪代码"><a href="#伪代码" class="headerlink" title="伪代码"></a>伪代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Lock lock = <span class="keyword">new</span> Lock();</span><br><span class="line">Conditon condition = lock.newCondition()</span><br><span class="line">...</span><br><span class="line">lock.lock();</span><br><span class="line"><span class="keyword">while</span> ( conditon not satisfied ) &#123;</span><br><span class="line">    conditon.await()</span><br><span class="line">&#125;</span><br><span class="line">doOperation();</span><br><span class="line">lock.unLock()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Sequence-Diagram"><a href="#Sequence-Diagram" class="headerlink" title="Sequence Diagram"></a>Sequence Diagram</h3><p>内部逻辑，图参考自&lt;&lt;Java多线程编程实战指南（设计模式篇）&gt;&gt; 黄文海 著</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="469px" preserveAspectRatio="none" style="width:822px;height:469px;background:#FFFFFF;" version="1.1" viewBox="0 0 822 469" width="822px" zoomAndPan="magnify"><defs><filter height="300%" id="f1314rdgt6cgk0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="345.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="185.5" y="71.4297"/><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="287.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="497.5" y="129.6953"/><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="651.5" y="241.2266"/><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="104.5313" style="stroke:#000000;stroke-width:2.0;" width="352" x="456" y="202.9609"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="35" x2="35" y1="40.2969" y2="425.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="190" x2="190" y1="40.2969" y2="425.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="326" x2="326" y1="40.2969" y2="425.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="502" x2="502" y1="40.2969" y2="425.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="656" x2="656" y1="40.2969" y2="425.8906"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="754" x2="754" y1="40.2969" y2="425.8906"/><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="12" y="24.9951">Client</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="57" x="5" y="424.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="12" y="444.8857">Client</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="123" x="127" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="134" y="24.9951">GuardedObject</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="123" x="127" y="424.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="134" y="444.8857">GuardedObject</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="121" x="264" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="271" y="24.9951">GuardedAction</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="121" x="264" y="424.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="271" y="444.8857">GuardedAction</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="69" x="466" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="473" y="24.9951">Blocker</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="69" x="466" y="424.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="473" y="444.8857">Blocker</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="613" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="620" y="24.9951">Predicate</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="83" x="613" y="424.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="620" y="444.8857">Predicate</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="84" x="710" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="717" y="24.9951">Condition</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="84" x="710" y="424.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="717" y="444.8857">Condition</text><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="345.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="185.5" y="71.4297"/><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="287.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="497.5" y="129.6953"/><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="651.5" y="241.2266"/><polygon fill="#A80036" points="173.5,67.4297,183.5,71.4297,173.5,75.4297,177.5,71.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35.5" x2="179.5" y1="71.4297" y2="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="42.5" y="66.3638">1 : guardedMethod()</text><polygon fill="#A80036" points="314.5,96.5625,324.5,100.5625,314.5,104.5625,318.5,100.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="195.5" x2="320.5" y1="100.5625" y2="100.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="202.5" y="95.4966">2 : &lt;&lt;create&gt;&gt;</text><polygon fill="#A80036" points="485.5,125.6953,495.5,129.6953,485.5,133.6953,489.5,129.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="195.5" x2="491.5" y1="129.6953" y2="129.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="202.5" y="124.6294">3 : callWithGuard()</text><polygon fill="#A80036" points="206.5,154.8281,196.5,158.8281,206.5,162.8281,202.5,158.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="200.5" x2="496.5" y1="158.8281" y2="158.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="212.5" y="153.7622">getGuard()</text><polygon fill="#A80036" points="485.5,183.9609,495.5,187.9609,485.5,191.9609,489.5,187.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="195.5" x2="491.5" y1="187.9609" y2="187.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="202.5" y="182.895">5: predicate</text><path d="M456,202.9609 L534,202.9609 L534,209.9609 L524,219.9609 L456,219.9609 L456,202.9609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="104.5313" style="stroke:#000000;stroke-width:2.0;" width="352" x="456" y="202.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="33" x="471" y="216.0278">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="143" x="549" y="215.1714">[SuspendIfNecessary]</text><polygon fill="#A80036" points="639.5,237.2266,649.5,241.2266,639.5,245.2266,643.5,241.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="507.5" x2="645.5" y1="241.2266" y2="241.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="514.5" y="236.1606">6 : evaluate()</text><polygon fill="#A80036" points="518.5,266.3594,508.5,270.3594,518.5,274.3594,514.5,270.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="512.5" x2="655.5" y1="270.3594" y2="270.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="524.5" y="265.2935">7 : isPredicateTrue</text><polygon fill="#A80036" points="742,295.4922,752,299.4922,742,303.4922,746,299.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="507.5" x2="748" y1="299.4922" y2="299.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="514.5" y="294.4263">8 : await()</text><polygon fill="#A80036" points="337.5,331.625,327.5,335.625,337.5,339.625,333.5,335.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="331.5" x2="496.5" y1="335.625" y2="335.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="343.5" y="330.5591">9 :call()</text><polygon fill="#A80036" points="485.5,360.7578,495.5,364.7578,485.5,368.7578,489.5,364.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="326.5" x2="491.5" y1="364.7578" y2="364.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="333.5" y="359.6919">10 : actionReturnValue</text><polygon fill="#A80036" points="206.5,389.8906,196.5,393.8906,206.5,397.8906,202.5,393.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="200.5" x2="496.5" y1="393.8906" y2="393.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="212.5" y="388.8247">11 : actionReturnValue</text><polygon fill="#A80036" points="46.5,403.8906,36.5,407.8906,46.5,411.8906,42.5,407.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="40.5" x2="184.5" y1="407.8906" y2="407.8906"/><!--MD5=[ea8720118735a9685a609cfe5a34c323]
@startuml
Client -> GuardedObject++ : 1 : guardedMethod()
GuardedObject -> GuardedAction :2 : <<create>>

GuardedObject -> Blocker++ : 3 : callWithGuard()
Blocker -> GuardedObject : getGuard()
GuardedObject - -> Blocker :5: predicate

loop SuspendIfNecessary
    Blocker -> Predicate++ :6 : evaluate()
    Predicate - -> Blocker- - :7 : isPredicateTrue
    Blocker -> Condition :8 : await()

end

Blocker -> GuardedAction :9 :call()
GuardedAction - -> Blocker :10 : actionReturnValue
Blocker - -> GuardedObject : 11 : actionReturnValue
GuardedObject - -> Client
@enduml

PlantUML version 1.2021.9beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://q0519.gitee.io/2020/12/03/Others/how_to_confirm_bug_effectively/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Vincent Q">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/03/Others/how_to_confirm_bug_effectively/" class="post-title-link" itemprop="url">如何有效提bug</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-12-03 15:21:11 / Modified: 15:41:51" itemprop="dateCreated datePublished" datetime="2020-12-03T15:21:11+08:00">2020-12-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Others/" itemprop="url" rel="index"><span itemprop="name">Others</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>以下是读&lt;&lt;代码之殇&gt;&gt;的关于Bug提交的笔记，作为常识，应该是牢记于心的。Bug提交是一种确保软件质量的沟通手段，因此，信息的准确传达尤为重要。</p>
<h2 id="Bug报告的定义"><a href="#Bug报告的定义" class="headerlink" title="Bug报告的定义"></a>Bug报告的定义</h2><p>所有Bug报告，应该有如下要求</p>
<table>
<thead>
<tr>
<th>项目</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>标题</td>
<td>要简略</td>
</tr>
<tr>
<td>指派</td>
<td>由谁来处理问题</td>
</tr>
<tr>
<td>重现步骤</td>
<td>问题再次出现的相关步骤。可采用图表、视频等。</td>
</tr>
<tr>
<td>优先级别</td>
<td>问题的紧迫程度与重要性，级别不应过多，准则应该简单，易区分，易记忆。一般可以定义 <code>0-4</code> 级，优先级依次降低。</td>
</tr>
<tr>
<td>严重程度</td>
<td>问题所产生的后果</td>
</tr>
<tr>
<td>解决方案</td>
<td>怎么解决问题</td>
</tr>
</tbody></table>
<h2 id="Bug-优先级"><a href="#Bug-优先级" class="headerlink" title="Bug 优先级"></a>Bug 优先级</h2><p>比如，可以定义如下优先级</p>
<table>
<thead>
<tr>
<th>级别</th>
<th>描述</th>
<th>修复时间点</th>
</tr>
</thead>
<tbody><tr>
<td>Pri 0</td>
<td>一个需引起关注的致命错误，不存在变通方法，是一个不可逾越的bug</td>
<td>只有解决了问题，找到变通方法，才能安心。</td>
</tr>
<tr>
<td>Pri 1</td>
<td>一个需要引起严重关注的致命错误</td>
<td>必须在当前冲刺阶段解决</td>
</tr>
<tr>
<td>Pri 2</td>
<td>一个严重的错误</td>
<td>必须在产品发布前解决</td>
</tr>
<tr>
<td>Pri 3</td>
<td>一般性错误或者建议</td>
<td>最好在产品发布前解决</td>
</tr>
</tbody></table>
<h2 id="Bug-严重程度"><a href="#Bug-严重程度" class="headerlink" title="Bug 严重程度"></a>Bug 严重程度</h2><p>严重程度一般指影响范围。注意，严重程度和优先级是相互独立的。</p>
<p>比如，可以定义如下</p>
<table>
<thead>
<tr>
<th>级别</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>引起系统崩溃或者用户数据丢失</td>
</tr>
<tr>
<td>2</td>
<td>引起故障，阻断了后续操作</td>
</tr>
<tr>
<td>3</td>
<td>引起操作不便或界面显示不完整</td>
</tr>
</tbody></table>
<h2 id="Bug-解决方案"><a href="#Bug-解决方案" class="headerlink" title="Bug 解决方案"></a>Bug 解决方案</h2><p>对于解决Bug的说明。除了具体方案细节，一般也会用如下关键字进行归类，比如 已修复，无法重现，不修复，延期之类。</p>
<p>当一个Bug被解决，将会自行指派给发现它的人，如果解决方案不令人满意，则有可能再次被激活。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://q0519.gitee.io/2020/12/03/Mysql/mysql_8_new_collation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Vincent Q">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/12/03/Mysql/mysql_8_new_collation/" class="post-title-link" itemprop="url">Mysql 8 中的新的Collation (字符校对)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-12-03 14:51:30 / Modified: 15:16:57" itemprop="dateCreated datePublished" datetime="2020-12-03T14:51:30+08:00">2020-12-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Mysql/" itemprop="url" rel="index"><span itemprop="name">Mysql</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>在使用Docker玩mysql 8.0时，发现默认的character collation变成了不认识的utf8mb4_0900_ai_ci，对相应问题做了一点搜索，记录如下。</p>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>以<strong>utf8mb4_0900_ai_ci</strong>为例，它是一个若干有意义的字段合并的collation名称。分解如下：</p>
<ul>
<li><code>uft8mb4</code> 指使用UTF-8字符集，每个字符最多使用4 byte来存储。</li>
<li><code>0900</code> 指Unicode字符校对算法版本。Unicode字符校对算法(Unicode Collation Algorithm) 是用来按照Unicode标准比较两个字符串的算法。</li>
<li><code>ai</code> 指重音符号（Accent）不敏感，比如 e, è, é, ê and ë 在排序时均认为是同一字符。与其相对的是<code>as</code></li>
<li><code>ci</code> 指大小写（Case)不敏感。排序时a和A不做区分。与其相对的是 <code>as</code></li>
</ul>
<p>其他还有language identifer以及_bin标识，可以参考如下网站</p>
<p><a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/charset-collation-names.html">Collation Naming Conventions</a></p>
<p><a target="_blank" rel="noopener" href="https://mysqlserverteam.com/new-collations-in-mysql-8-0-0/">New Colllations in Mysql 8</a></p>
<p>展示所有Collation</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW COLLATION</span><br></pre></td></tr></table></figure>



<h3 id="如何确定当前表的Collation？"><a href="#如何确定当前表的Collation？" class="headerlink" title="如何确定当前表的Collation？"></a>如何确定当前表的Collation？</h3><p>可以查询information_schema表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SELECT </span><br><span class="line">   table_schema,</span><br><span class="line">   table_name,</span><br><span class="line">   table_collation   </span><br><span class="line">FROM information_schema.tables</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Vincent Q</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">38</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2020 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Vincent Q</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
