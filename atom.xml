<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Blog</title>
  
  
  <link href="https://q0519.gitee.io/atom.xml" rel="self"/>
  
  <link href="https://q0519.gitee.io/"/>
  <updated>2021-01-16T03:57:13.016Z</updated>
  <id>https://q0519.gitee.io/</id>
  
  <author>
    <name>Vincent Q</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>VS Code Settings for Rust</title>
    <link href="https://q0519.gitee.io/2021/01/16/Rust/VS-Code/"/>
    <id>https://q0519.gitee.io/2021/01/16/Rust/VS-Code/</id>
    <published>2021-01-16T03:29:56.566Z</published>
    <updated>2021-01-16T03:57:13.016Z</updated>
    
    <content type="html"><![CDATA[<h3 id="VS-Code配置"><a href="#VS-Code配置" class="headerlink" title="VS Code配置"></a>VS Code配置</h3><h4 id="VS-Code-支持Rust-插件安装"><a href="#VS-Code-支持Rust-插件安装" class="headerlink" title="VS Code 支持Rust 插件安装"></a>VS Code 支持Rust 插件安装</h4><p>Rust， 语言支持插件</p><p>crates， 用来检查Rust项目依赖的版本情况</p><p>Better TOML, 支持Cargo配置文件编辑</p><p>C/C++ for Visual Studio Code,  Windows环境Debug, <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools">https://marketplace.visualstudio.com/items?itemName=ms-vscode.cpptools</a></p><p>CodeLLDB, Linux环境Debug, <a href="https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb">https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb</a></p><h4 id="Debug-设置"><a href="#Debug-设置" class="headerlink" title="Debug 设置"></a>Debug 设置</h4><ol><li><p>VS Code <em>File -&gt; Preferences -&gt; Settings</em> ，找到Debug，配置可以在任意位置下断点</p></li><li><p>选择“Debug-&gt; Add Configuration”</p></li><li><p>如果是Windows环境，选择 <code>C++ (Windows)</code><br>如果是Mac环境，选择 <code>LLDB: Custom Launch</code></p><p>如上步骤将创建 <code>launch.json</code>。需要手动配置”program”项目的可执行程序路径。</p></li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;0.2.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;configurations&quot;</span>: [</span><br><span class="line">        <span class="comment">// --- For Windows</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;(Windows) Launch&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;cppvsdbg&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;request&quot;</span>: <span class="string">&quot;launch&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;program&quot;</span>:  <span class="string">&quot;$&#123;workspaceFolder&#125;/target/debug/hello_console.exe&quot;</span>, <span class="comment">//配置程序路径</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span>: [],</span><br><span class="line">            <span class="attr">&quot;stopAtEntry&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span>: <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;environment&quot;</span>: [],</span><br><span class="line">            <span class="attr">&quot;externalConsole&quot;</span>: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// --- For Mac</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;(OSX) Launch&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;lldb&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;request&quot;</span>: <span class="string">&quot;launch&quot;</span>,</span><br><span class="line">            <span class="attr">&quot;program&quot;</span>: <span class="string">&quot;$&#123;workspaceRoot&#125;/target/debug/foo&quot;</span>,<span class="comment">//Mac配置程序路径</span></span><br><span class="line">            <span class="attr">&quot;args&quot;</span>: [],</span><br><span class="line">            <span class="attr">&quot;cwd&quot;</span>: <span class="string">&quot;$&#123;workspaceRoot&#125;&quot;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后，使用F5, 开始Debug吧！</p><p>参考</p><blockquote><p><a href="https://www.forrestthewoods.com/blog/how-to-debug-rust-with-visual-studio-code/">https://www.forrestthewoods.com/blog/how-to-debug-rust-with-visual-studio-code/</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;VS-Code配置&quot;&gt;&lt;a href=&quot;#VS-Code配置&quot; class=&quot;headerlink&quot; title=&quot;VS Code配置&quot;&gt;&lt;/a&gt;VS Code配置&lt;/h3&gt;&lt;h4 id=&quot;VS-Code-支持Rust-插件安装&quot;&gt;&lt;a href=&quot;#VS-Cod</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>我的设计工具箱</title>
    <link href="https://q0519.gitee.io/2020/12/09/Others/my_tools/"/>
    <id>https://q0519.gitee.io/2020/12/09/Others/my_tools/</id>
    <published>2020-12-09T08:16:53.043Z</published>
    <updated>2020-12-10T07:11:26.583Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>如下是我目前在使用的一些工具。</p><h3 id="DB-Design"><a href="#DB-Design" class="headerlink" title="DB Design"></a>DB Design</h3><p><a href="https://dbdiagram.io/">Dbdiagram.io</a></p><p><img src="/2020/12/09/Others/my_tools/dbdiagram_screenshot.JPG" alt="dbdiagram"></p><p>H5应用，通过DBML绘制可视化，并且可以生成数据库的对应脚本。</p><p>Plantuml</p><p>全能的绘制软件，可以通过Entity描述生成数据库关系图。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h3&gt;&lt;p&gt;如下是我目前在使用的一些工具。&lt;/p&gt;
&lt;h3 id=&quot;DB-Design&quot;&gt;&lt;a href=&quot;#DB-Design&quot; class=&quot;hea</summary>
      
    
    
    
    <category term="Others" scheme="https://q0519.gitee.io/categories/Others/"/>
    
    
  </entry>
  
  <entry>
    <title>Parsing expression grammar （TODO)</title>
    <link href="https://q0519.gitee.io/2020/12/09/Parser/parsing_expression_grammar/"/>
    <id>https://q0519.gitee.io/2020/12/09/Parser/parsing_expression_grammar/</id>
    <published>2020-12-09T08:04:22.087Z</published>
    <updated>2020-12-10T06:27:47.185Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>本文是我在分析DBML(Database Markup Language)时，发现它参考的一个名为peg.js的库所使用的一种文本分析方法。后期将会花时间理解一下其原理。DBML标记语言是<a href="%5Bhttps://dbdiagram.io/">DBDiagram</a> 团队所创建的数据库设计应用底层依赖的建模语言。</p><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://github.com/holistics/dbml/">DBML</a></p><p><a href="https://pegjs.org/">Pegjs</a></p><p><a href="https://pest.rs/book/grammars/peg.html#parsing-expression-grammar">Parsing expression grammar</a></p><p><a href="https://craftinginterpreters.com/parsing-expressions.html">Parsing Expressions</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h3&gt;&lt;p&gt;本文是我在分析DBML(Database Markup Language)时，发现它参考的一个名为peg.js的库所使用的一种文本分析方法。</summary>
      
    
    
    
    <category term="Parser" scheme="https://q0519.gitee.io/categories/Parser/"/>
    
    
  </entry>
  
  <entry>
    <title>软件工程设计步骤</title>
    <link href="https://q0519.gitee.io/2020/12/09/Others/design_software/"/>
    <id>https://q0519.gitee.io/2020/12/09/Others/design_software/</id>
    <published>2020-12-09T07:40:53.647Z</published>
    <updated>2020-12-10T06:27:47.185Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>如下是《代码之殇》阅读中关于软件设计的阅读笔记整理。</p><h3 id="软件设计的维度"><a href="#软件设计的维度" class="headerlink" title="软件设计的维度"></a>软件设计的维度</h3><table><thead><tr><th></th><th>外部</th><th>内部</th></tr></thead><tbody><tr><td>静态</td><td>项目管理规范书<br>应用程序编程接口定义</td><td>开发规范书<br>测试驱动开发</td></tr><tr><td>动态</td><td>用例<br>应用范例和角色扮演</td><td>顺序图<br>状态图、流程图、威胁和故障建模</td></tr></tbody></table><h3 id="高层设计步骤"><a href="#高层设计步骤" class="headerlink" title="高层设计步骤"></a>高层设计步骤</h3><ul><li>应用范例和角色扮演 <ul><li>在一个较高层次上描述客户是如何和我们的软件交互的</li></ul></li><li>项目管理规范书<ul><li>描述一些外部的困扰，包括需求、对话框、菜单、屏幕、数据集合和其他功能</li></ul></li><li>开发规范书 （设计文档或架构文档）<ul><li>类的层次和关系</li><li>组件栈和关系</li><li>其他需要在较高层次描述实现结构的东西</li></ul></li><li>状态图、流程图、威胁和故障建模<ul><li>描述并控制系统中组件和对象之间的复杂交互</li></ul></li></ul><p>每个步骤都应有一个有限而明确的范围。</p><p>不是所有步骤在设计时都是必须的。</p><p>外部象限具有很宽的受众，内部象限则针对技术人员。</p><p>善用UML</p><p>威胁和故障建模通过重用“组件关系图”，会比较容易。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h3&gt;&lt;p&gt;如下是《代码之殇》阅读中关于软件设计的阅读笔记整理。&lt;/p&gt;
&lt;h3 id=&quot;软件设计的维度&quot;&gt;&lt;a href=&quot;#软件设计的维度&quot; cla</summary>
      
    
    
    
    <category term="Others" scheme="https://q0519.gitee.io/categories/Others/"/>
    
    
  </entry>
  
  <entry>
    <title>Mindmap</title>
    <link href="https://q0519.gitee.io/2020/12/08/PlantUML/mindmap/"/>
    <id>https://q0519.gitee.io/2020/12/08/PlantUML/mindmap/</id>
    <published>2020-12-08T14:32:21.897Z</published>
    <updated>2020-12-10T06:27:47.185Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>本文是阅读绘制Mindmap官方文档后的一些笔记。</p><p><font color=red>Mindmap</font>目前还处于beta阶段，语法可能随时更改。</p><h3 id="如何绘制一个Mindmap"><a href="#如何绘制一个Mindmap" class="headerlink" title="如何绘制一个Mindmap"></a>如何绘制一个Mindmap</h3><p>绘制方法和orgmap</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@startmindmap</span><br><span class="line"></span><br><span class="line">@endmindmap</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h3&gt;&lt;p&gt;本文是阅读绘制Mindmap官方文档后的一些笔记。&lt;/p&gt;
&lt;p&gt;&lt;font color=red&gt;Mindmap&lt;/font&gt;目前还处于be</summary>
      
    
    
    
    <category term="PlantUML" scheme="https://q0519.gitee.io/categories/PlantUML/"/>
    
    
  </entry>
  
  <entry>
    <title>Flutter Constraints 约束</title>
    <link href="https://q0519.gitee.io/2020/12/08/Flutter/flutter_constraints/"/>
    <id>https://q0519.gitee.io/2020/12/08/Flutter/flutter_constraints/</id>
    <published>2020-12-08T14:28:10.178Z</published>
    <updated>2020-12-10T06:27:47.185Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>本文是阅读<a href="https://flutter.dev/docs/development/ui/layout/constraints">Flutter Constraints</a> 的一些笔记。</p><h3 id="图例"><a href="#图例" class="headerlink" title="图例"></a>图例</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="410px" preserveAspectRatio="none" style="width:743px;height:410px;" version="1.1" viewBox="0 0 743 410" width="743px" zoomAndPan="magnify"><defs><filter height="300%" id="fgqhneqorvb7m" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#fgqhneqorvb7m)" height="39.1201" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="10" y="189.9703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="20" y="216.0143">Flutter Constraints</text><rect fill="#FEFECE" filter="url(#fgqhneqorvb7m)" height="39.1201" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="197" y="20"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="207" y="46.0439">Container</text><path d="M147,209.5304 L157,209.5304 C172,209.5304 172,39.5601 187,39.5601 L197,39.5601 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fgqhneqorvb7m)" height="39.1201" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="197" y="79.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="207" y="105.1641">UncontrainedBox</text><rect fill="#FEFECE" filter="url(#fgqhneqorvb7m)" height="39.1201" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="309" x="374" y="79.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="289" x="384" y="105.1641">Display warning If Large than its available size</text><path d="M324,98.6802 L334,98.6802 C349,98.6802 349,98.6802 364,98.6802 L374,98.6802 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M147,209.5304 L157,209.5304 C172,209.5304 172,98.6802 187,98.6802 L197,98.6802 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fgqhneqorvb7m)" height="39.1201" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="197" y="138.2402"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="207" y="164.2842">OverflowBox</text><path d="M147,209.5304 L157,209.5304 C172,209.5304 172,157.8003 187,157.8003 L197,157.8003 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fgqhneqorvb7m)" height="39.1201" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="197" y="197.3604"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="207" y="223.4043">ContrainedBox</text><path d="M147,209.5304 L157,209.5304 C172,209.5304 172,216.9204 187,216.9204 L197,216.9204 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fgqhneqorvb7m)" height="39.1201" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="79" x="197" y="256.4805"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="207" y="282.5244">FittedBox</text><path d="M147,209.5304 L157,209.5304 C172,209.5304 172,276.0405 187,276.0405 L197,276.0405 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fgqhneqorvb7m)" height="39.1201" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="197" y="315.6006"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="207" y="341.6445">[Flex boxes]</text><rect fill="#FEFECE" filter="url(#fgqhneqorvb7m)" height="39.1201" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="257" x="342" y="300.8206"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="237" x="352" y="326.8645">Row -- Display Size Overflow Warning</text><rect fill="#FEFECE" filter="url(#fgqhneqorvb7m)" height="39.1201" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="83" x="649" y="271.2605"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="659" y="297.3044">Expanded</text><path d="M599,320.3806 L609,320.3806 C624,320.3806 624,290.8206 639,290.8206 L649,290.8206 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fgqhneqorvb7m)" height="39.1201" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="649" y="330.3806"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="659" y="356.4246">Flexible</text><path d="M599,320.3806 L609,320.3806 C624,320.3806 624,349.9407 639,349.9407 L649,349.9407 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M292,335.1606 L302,335.1606 C317,335.1606 317,320.3806 332,320.3806 L342,320.3806 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fgqhneqorvb7m)" height="39.1201" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="342" y="359.9407"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="48" x="352" y="385.9846">Column</text><path d="M292,335.1606 L302,335.1606 C317,335.1606 317,379.5007 332,379.5007 L342,379.5007 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M147,209.5304 L157,209.5304 C172,209.5304 172,335.1606 187,335.1606 L197,335.1606 " fill="none" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a0e87d5311befb8c96159493e1629d7e]@startmindmap* Flutter Constraints** Container** UncontrainedBox*** Display warning If Large than its available size** OverflowBox** ContrainedBox** FittedBox** [Flex boxes]*** Row - - Display Size Overflow Warning**** Expanded**** Flexible*** Column@endmindmapPlantUML version 1.2020.10(Sun May 17 17:35:57 CST 2020)(GPL source distribution)Java Runtime: Java(TM) SE Runtime EnvironmentJVM: Java HotSpot(TM) Client VMJava Version: 1.8.0_271-b09Operating System: Windows 10Default Encoding: GBKLanguage: zhCountry: CN--></g></svg>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h3&gt;&lt;p&gt;本文是阅读&lt;a href=&quot;https://flutter.dev/docs/development/ui/layout/constrain</summary>
      
    
    
    
    <category term="Flutter" scheme="https://q0519.gitee.io/categories/Flutter/"/>
    
    
  </entry>
  
  <entry>
    <title>Half-sync / Half-sync 半同步/半异步 模式</title>
    <link href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/half_sync_half_async/"/>
    <id>https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/half_sync_half_async/</id>
    <published>2020-12-08T10:12:44.662Z</published>
    <updated>2020-12-08T10:29:15.678Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>将耗时较长的任务放入异步执行队列，而耗时较短的任务同步执行。比如，接受网络请求，将其入队列，异步处理。</p><p>注意： 和Lead-followers模式的区别</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h3&gt;&lt;p&gt;将耗时较长的任务放入异步执行队列，而耗时较短的任务同步执行。比如，接受网络请求，将其入队列，异步处理。&lt;/p&gt;
&lt;p&gt;注意： 和Lead-f</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/"/>
    
    <category term="Concurrent Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/Concurrent-Pattern/"/>
    
    
  </entry>
  
  <entry>
    <title>Pipeline 流水线模式</title>
    <link href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/pipeline/"/>
    <id>https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/pipeline/</id>
    <published>2020-12-08T10:07:56.050Z</published>
    <updated>2020-12-08T10:18:45.323Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>对有耦合关系的任务进行排布，并行处理多个任务链。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h3&gt;&lt;p&gt;对有耦合关系的任务进行排布，并行处理多个任务链。&lt;/p&gt;
</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/"/>
    
    <category term="Concurrent Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/Concurrent-Pattern/"/>
    
    
  </entry>
  
  <entry>
    <title>Master-slave 模式</title>
    <link href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/master_slave/"/>
    <id>https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/master_slave/</id>
    <published>2020-12-08T10:05:42.487Z</published>
    <updated>2020-12-08T10:18:45.321Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>将较大的任务分解为小任务，并通过线程池执行；能够自动处理任务分解与合并。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h3&gt;&lt;p&gt;将较大的任务分解为小任务，并通过线程池执行；能够自动处理任务分解与合并。&lt;/p&gt;
</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/"/>
    
    <category term="Concurrent Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/Concurrent-Pattern/"/>
    
    
  </entry>
  
  <entry>
    <title>Serial Thread Confinement 串行线程封闭</title>
    <link href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/serial_thread_confinement/"/>
    <id>https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/serial_thread_confinement/</id>
    <published>2020-12-08T09:59:08.069Z</published>
    <updated>2020-12-08T10:05:31.271Z</updated>
    
    <content type="html"><![CDATA[<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>将多个并发任务存入队列，使用单线程消费。此模式将带来如下好处：</p><ol><li>异步化调用与执行；</li><li>由于任务串行化，可以避免使用锁。</li></ol><p>此模式是一个弱化了的线程池模式。类似UI 中的 Event Loop。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h3&gt;&lt;p&gt;将多个并发任务存入队列，使用单线程消费。此模式将带来如下好处：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;异步化调用与执行；&lt;/li&gt;
&lt;li&gt;由于任务串行</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/"/>
    
    <category term="Concurrent Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/Concurrent-Pattern/"/>
    
    
  </entry>
  
  <entry>
    <title>Thread Specific Storage 线程存储</title>
    <link href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/thread_specific_storage/"/>
    <id>https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/thread_specific_storage/</id>
    <published>2020-12-08T09:32:12.732Z</published>
    <updated>2020-12-08T10:05:31.289Z</updated>
    
    
    
    
    <category term="Design Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/"/>
    
    <category term="Concurrent Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/Concurrent-Pattern/"/>
    
    
  </entry>
  
  <entry>
    <title>Thread Pool 模式</title>
    <link href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/thread_pool/"/>
    <id>https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/thread_pool/</id>
    <published>2020-12-08T09:23:28.025Z</published>
    <updated>2020-12-08T10:05:31.272Z</updated>
    
    <content type="html"><![CDATA[<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>线程池通过对任务及执行线程的管理，复用资源。</p><p>主要包括：1. 任务队列； 2. 工作线程调度</p><h3 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h3><ol><li><p>线程泄露</p><p>a) 由于线程执行错误导致线程池中线程意外终止，耗尽线程池。ThreadPool中已经对此情况进行了处理。( 延申： 怎么处理的)</p><p>b) 由于一些阻塞的任务，比如读取外部数据等，没有恰当的超时机制，导致线程池中工作线程均在等待，无法执行任务。</p><p>c) 死锁，活锁等</p></li><li><p>饱和策略</p></li><li><p>队列不受限导致溢出</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h3&gt;&lt;p&gt;线程池通过对任务及执行线程的管理，复用资源。&lt;/p&gt;
&lt;p&gt;主要包括：1. 任务队列； 2. 工作线程调度&lt;/p&gt;
&lt;h3 id=&quot;常见问题</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/"/>
    
    <category term="Concurrent Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/Concurrent-Pattern/"/>
    
    
  </entry>
  
  <entry>
    <title>Activate Object 主动对象模式</title>
    <link href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/active_object/"/>
    <id>https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/active_object/</id>
    <published>2020-12-08T09:07:08.973Z</published>
    <updated>2020-12-08T10:05:31.271Z</updated>
    
    <content type="html"><![CDATA[<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>主动对象将方法调用与方法执行进行解构，与该方法有关的上下文信息均会封装成一个对象，由另外的线程或调度管理来控制执行。</p><h3 id="类图"><a href="#类图" class="headerlink" title="类图"></a>类图</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="629px" preserveAspectRatio="none" style="width:497px;height:629px;" version="1.1" viewBox="0 0 497 629" width="497px" zoomAndPan="magnify"><defs><filter height="300%" id="f1o08o093emmb2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ed6624c6556d5e7b1bd23032162d20b7]class Client--><rect fill="#FEFECE" filter="url(#f1o08o093emmb2)" height="48" id="Client" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="392" y="8"/><ellipse cx="407" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M405.5781,29.3594 Q403.7188,29.3594 402.625,27.9688 Q401.5313,26.5781 401.5313,23.5938 Q401.5313,21.0625 402.6953,19.4063 Q403.8594,17.75 405.8438,17.75 Q407.3125,17.75 407.7813,17.875 Q408.25,18.0781 408.25,18.0781 Q408.25,18.0781 408.25,18.0078 Q408.25,17.9375 408.8594,17.0156 L409.9063,20.6719 L408.5781,21.0781 Q408.1094,19.5313 407.4453,18.8672 Q406.7813,18.2031 405.7188,18.2031 Q405.3281,18.2031 404.5625,19.7344 Q403.7969,21.2656 403.7969,23.5156 Q403.7969,25.9844 404.4609,27.375 Q405.125,28.7656 405.6563,28.7656 Q406.7188,28.7656 407.4766,28 Q408.2344,27.2344 408.5781,25.5781 L409.9063,26.1719 Q409.5781,27.5781 408.6797,28.4688 Q407.7813,29.3594 405.5781,29.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="421" y="29.5576">Client</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="393" x2="455" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="393" x2="455" y1="48" y2="48"/><!--MD5=[f7109e258b7e3e4bb390e34b115b99ce]class Proxy--><rect fill="#FEFECE" filter="url(#f1o08o093emmb2)" height="63.0229" id="Proxy" style="stroke: #A80036; stroke-width: 1.5;" width="178" x="229" y="117"/><ellipse cx="299.25" cy="133" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M297.8281,138.3594 Q295.9688,138.3594 294.875,136.9688 Q293.7813,135.5781 293.7813,132.5938 Q293.7813,130.0625 294.9453,128.4063 Q296.1094,126.75 298.0938,126.75 Q299.5625,126.75 300.0313,126.875 Q300.5,127.0781 300.5,127.0781 Q300.5,127.0781 300.5,127.0078 Q300.5,126.9375 301.1094,126.0156 L302.1563,129.6719 L300.8281,130.0781 Q300.3594,128.5313 299.6953,127.8672 Q299.0313,127.2031 297.9688,127.2031 Q297.5781,127.2031 296.8125,128.7344 Q296.0469,130.2656 296.0469,132.5156 Q296.0469,134.9844 296.7109,136.375 Q297.375,137.7656 297.9063,137.7656 Q298.9688,137.7656 299.7266,137 Q300.4844,136.2344 300.8281,134.5781 L302.1563,135.1719 Q301.8281,136.5781 300.9297,137.4688 Q300.0313,138.3594 297.8281,138.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="29" x="319.75" y="138.5576">Proxy</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="230" x2="406" y1="149" y2="149"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="230" x2="406" y1="157" y2="157"/><ellipse cx="240" cy="168" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="249" y="173.606">asyncService( Object ) : Future</text><!--MD5=[8523c9eb2e1b5151dfc9c2a797373c5f]class Scheduler--><rect fill="#FEFECE" filter="url(#f1o08o093emmb2)" height="78.0459" id="Scheduler" style="stroke: #A80036; stroke-width: 1.5;" width="217" x="7.5" y="259"/><ellipse cx="83.75" cy="275" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M82.3281,280.3594 Q80.4688,280.3594 79.375,278.9688 Q78.2813,277.5781 78.2813,274.5938 Q78.2813,272.0625 79.4453,270.4063 Q80.6094,268.75 82.5938,268.75 Q84.0625,268.75 84.5313,268.875 Q85,269.0781 85,269.0781 Q85,269.0781 85,269.0078 Q85,268.9375 85.6094,268.0156 L86.6563,271.6719 L85.3281,272.0781 Q84.8594,270.5313 84.1953,269.8672 Q83.5313,269.2031 82.4688,269.2031 Q82.0781,269.2031 81.3125,270.7344 Q80.5469,272.2656 80.5469,274.5156 Q80.5469,276.9844 81.2109,278.375 Q81.875,279.7656 82.4063,279.7656 Q83.4688,279.7656 84.2266,279 Q84.9844,278.2344 85.3281,276.5781 L86.6563,277.1719 Q86.3281,278.5781 85.4297,279.4688 Q84.5313,280.3594 82.3281,280.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="104.25" y="280.5576">Scheduler</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="8.5" x2="223.5" y1="291" y2="291"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="8.5" x2="223.5" y1="299" y2="299"/><ellipse cx="18.5" cy="310" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="27.5" y="315.606">dispatch()</text><ellipse cx="18.5" cy="325.0229" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="27.5" y="330.6289">enqueue( methodReq : MethodRequest)</text><!--MD5=[7ac0d861308d3e6f548cc9575b4620cb]class ActivationQueue--><rect fill="#FEFECE" filter="url(#f1o08o093emmb2)" height="78.0459" id="ActivationQueue" style="stroke: #A80036; stroke-width: 1.5;" width="220" x="6" y="398"/><ellipse cx="67.75" cy="414" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M66.3281,419.3594 Q64.4688,419.3594 63.375,417.9688 Q62.2813,416.5781 62.2813,413.5938 Q62.2813,411.0625 63.4453,409.4063 Q64.6094,407.75 66.5938,407.75 Q68.0625,407.75 68.5313,407.875 Q69,408.0781 69,408.0781 Q69,408.0781 69,408.0078 Q69,407.9375 69.6094,407.0156 L70.6563,410.6719 L69.3281,411.0781 Q68.8594,409.5313 68.1953,408.8672 Q67.5313,408.2031 66.4688,408.2031 Q66.0781,408.2031 65.3125,409.7344 Q64.5469,411.2656 64.5469,413.5156 Q64.5469,415.9844 65.2109,417.375 Q65.875,418.7656 66.4063,418.7656 Q67.4688,418.7656 68.2266,418 Q68.9844,417.2344 69.3281,415.5781 L70.6563,416.1719 Q70.3281,417.5781 69.4297,418.4688 Q68.5313,419.3594 66.3281,419.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="88" x="88.25" y="419.5576">ActivationQueue</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="225" y1="430" y2="430"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="225" y1="438" y2="438"/><ellipse cx="17" cy="449" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="26" y="454.606">enqueue( methodReq : MethodRequest )</text><ellipse cx="17" cy="464.0229" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="26" y="469.6289">dequeue () : MethodRequest</text><!--MD5=[6f55398781c5f964533f8511f7366b70]class MethodRequest--><rect fill="#FEFECE" filter="url(#f1o08o093emmb2)" height="63.0229" id="MethodRequest" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="259.5" y="266.5"/><ellipse cx="274.5" cy="282.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M273.0781,287.8594 Q271.2188,287.8594 270.125,286.4688 Q269.0313,285.0781 269.0313,282.0938 Q269.0313,279.5625 270.1953,277.9063 Q271.3594,276.25 273.3438,276.25 Q274.8125,276.25 275.2813,276.375 Q275.75,276.5781 275.75,276.5781 Q275.75,276.5781 275.75,276.5078 Q275.75,276.4375 276.3594,275.5156 L277.4063,279.1719 L276.0781,279.5781 Q275.6094,278.0313 274.9453,277.3672 Q274.2813,276.7031 273.2188,276.7031 Q272.8281,276.7031 272.0625,278.2344 Q271.2969,279.7656 271.2969,282.0156 Q271.2969,284.4844 271.9609,285.875 Q272.625,287.2656 273.1563,287.2656 Q274.2188,287.2656 274.9766,286.5 Q275.7344,285.7344 276.0781,284.0781 L277.4063,284.6719 Q277.0781,286.0781 276.1797,286.9688 Q275.2813,287.8594 273.0781,287.8594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="288.5" y="288.0576">MethodRequest</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="260.5" x2="377.5" y1="298.5" y2="298.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="260.5" x2="377.5" y1="306.5" y2="306.5"/><ellipse cx="270.5" cy="317.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="279.5" y="323.106">call()</text><!--MD5=[a1b8371b5b3d6eab25cd19c8ab04f757]class Servant--><rect fill="#FEFECE" filter="url(#f1o08o093emmb2)" height="63.0229" id="Servant" style="stroke: #A80036; stroke-width: 1.5;" width="96" x="68" y="555"/><ellipse cx="93.35" cy="571" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M91.9281,576.3594 Q90.0688,576.3594 88.975,574.9688 Q87.8813,573.5781 87.8813,570.5938 Q87.8813,568.0625 89.0453,566.4063 Q90.2094,564.75 92.1938,564.75 Q93.6625,564.75 94.1313,564.875 Q94.6,565.0781 94.6,565.0781 Q94.6,565.0781 94.6,565.0078 Q94.6,564.9375 95.2094,564.0156 L96.2563,567.6719 L94.9281,568.0781 Q94.4594,566.5313 93.7953,565.8672 Q93.1313,565.2031 92.0688,565.2031 Q91.6781,565.2031 90.9125,566.7344 Q90.1469,568.2656 90.1469,570.5156 Q90.1469,572.9844 90.8109,574.375 Q91.475,575.7656 92.0063,575.7656 Q93.0688,575.7656 93.8266,575 Q94.5844,574.2344 94.9281,572.5781 L96.2563,573.1719 Q95.9281,574.5781 95.0297,575.4688 Q94.1313,576.3594 91.9281,576.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="41" x="109.65" y="576.5576">Servant</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="69" x2="163" y1="587" y2="587"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="69" x2="163" y1="595" y2="595"/><ellipse cx="79" cy="606" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="88" y="611.606">doSomething()</text><!--MD5=[9473c99003db6b535952ab3e34a44ff8]class Future--><rect fill="#FEFECE" filter="url(#f1o08o093emmb2)" height="48" id="Future" style="stroke: #A80036; stroke-width: 1.5;" width="67" x="419.5" y="274"/><ellipse cx="434.5" cy="290" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M433.0781,295.3594 Q431.2188,295.3594 430.125,293.9688 Q429.0313,292.5781 429.0313,289.5938 Q429.0313,287.0625 430.1953,285.4063 Q431.3594,283.75 433.3438,283.75 Q434.8125,283.75 435.2813,283.875 Q435.75,284.0781 435.75,284.0781 Q435.75,284.0781 435.75,284.0078 Q435.75,283.9375 436.3594,283.0156 L437.4063,286.6719 L436.0781,287.0781 Q435.6094,285.5313 434.9453,284.8672 Q434.2813,284.2031 433.2188,284.2031 Q432.8281,284.2031 432.0625,285.7344 Q431.2969,287.2656 431.2969,289.5156 Q431.2969,291.9844 431.9609,293.375 Q432.625,294.7656 433.1563,294.7656 Q434.2188,294.7656 434.9766,294 Q435.7344,293.2344 436.0781,291.5781 L437.4063,292.1719 Q437.0781,293.5781 436.1797,294.4688 Q435.2813,295.3594 433.0781,295.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="35" x="448.5" y="295.5576">Future</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="420.5" x2="485.5" y1="306" y2="306"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="420.5" x2="485.5" y1="314" y2="314"/><!--MD5=[6c8bde876792f198e3004b5674ea61b5]link Client to Proxy--><path d="M402.549,56.171 C387.477,72.452 367.051,94.515 350.052,112.877 " fill="none" id="Client-&gt;Proxy" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="346.258,116.976,355.3079,113.0902,349.6552,113.3074,349.4381,107.6547,346.258,116.976" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8eb0a365200d5a3cbac713a6dc9efe98]link Client to Future--><path d="M426.574,56.428 C431.894,104.863 444.088,215.874 449.861,268.422 " fill="none" id="Client-&gt;Future" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="450.432,273.624,453.4258,264.2412,449.8863,268.6539,445.4736,265.1144,450.432,273.624" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[922722391205c23119148be12abecf78]link Proxy to Future--><path d="M345.972,180.062 C370.164,206.494 404.815,244.354 428.073,269.765 " fill="none" id="Proxy-&gt;Future" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="431.704,273.732,428.5768,264.3928,428.3276,270.0442,422.6763,269.795,431.704,273.732" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="391" y="225.8979">create</text><!--MD5=[bbbd6c54c6929ecb5e279c12f072525f]link Proxy to MethodRequest--><path d="M317.393,180.277 C317.231,189.804 317.08,200.336 317,210 C316.93,218.444 316.876,220.556 317,229 C317.154,239.453 317.44,250.807 317.749,261.19 " fill="none" id="Proxy-&gt;MethodRequest" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="317.902,266.2,321.625,257.0819,317.7492,261.2023,313.6288,257.3265,317.902,266.2" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="318" y="225.8979">create</text><!--MD5=[71c2a629c9b23f564c0da2367af1119f]link Proxy to Scheduler--><path d="M276.145,180.062 C246.174,201.947 205.474,231.666 172.605,255.667 " fill="none" id="Proxy-&gt;Scheduler" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="168.227,258.864,177.8541,256.786,172.2647,255.915,173.1357,250.3256,168.227,258.864" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8ffed7f29b046ae57345b2e0df64c519]link Scheduler to ActivationQueue--><path d="M116,337.162 C116,354.239 116,374.468 116,392.163 " fill="none" id="Scheduler-&gt;ActivationQueue" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="116,397.567,120,388.567,116,392.567,112,388.567,116,397.567" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[351c70a05f6f16a5b9d23fe86c34cfb9]link ActivationQueue to Servant--><path d="M116,476.369 C116,498.97 116,527.3798 116,549.547 " fill="none" id="ActivationQueue-&gt;Servant" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="116,554.7517,120,545.7517,116,549.7517,112,545.7517,116,554.7517" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="20" x="117" y="521.8979">call</text><!--MD5=[46774a94a03d02469036bc502f6ff830]@startumlclass Clientclass Proxy {+asyncService( Object ) : Future}class Scheduler {+dispatch()+enqueue( methodReq : MethodRequest)}class ActivationQueue {+enqueue( methodReq : MethodRequest )+dequeue () : MethodRequest}class MethodRequest {+call()}class Servant {+doSomething()}Client ..> Proxy Client ..> FutureProxy ..> Future :createProxy ..> MethodRequest :createProxy - -> SchedulerScheduler - -> ActivationQueueActivationQueue ..> Servant :call@endumlPlantUML version 1.2020.10(Sun May 17 17:35:57 CST 2020)(GPL source distribution)Java Runtime: Java(TM) SE Runtime EnvironmentJVM: Java HotSpot(TM) Client VMJava Version: 1.8.0_271-b09Operating System: Windows 10Default Encoding: GBKLanguage: zhCountry: CN--></g></svg>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h3&gt;&lt;p&gt;主动对象将方法调用与方法执行进行解构，与该方法有关的上下文信息均会封装成一个对象，由另外的线程或调度管理来控制执行。&lt;/p&gt;
&lt;h3 id=</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/"/>
    
    <category term="Concurrent Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/Concurrent-Pattern/"/>
    
    
  </entry>
  
  <entry>
    <title>Product-consumer 模式</title>
    <link href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/product_consumer/"/>
    <id>https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/product_consumer/</id>
    <published>2020-12-08T08:07:54.047Z</published>
    <updated>2020-12-08T10:32:35.754Z</updated>
    
    
    
    
    <category term="Design Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/"/>
    
    <category term="Concurrent Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/Concurrent-Pattern/"/>
    
    
  </entry>
  
  <entry>
    <title>Promise 承诺模式</title>
    <link href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/promise/"/>
    <id>https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/promise/</id>
    <published>2020-12-08T07:32:12.123Z</published>
    <updated>2020-12-08T07:50:09.595Z</updated>
    
    <content type="html"><![CDATA[<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>通过返回包含阻塞方法的凭据对象，使得调用方法无需等待即可继续执行，待需要结果时，通过调用凭据对象的阻塞方法获取结果。</p><h3 id="类图"><a href="#类图" class="headerlink" title="类图"></a>类图</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="466px" preserveAspectRatio="none" style="width:235px;height:466px;" version="1.1" viewBox="0 0 235 466" width="235px" zoomAndPan="magnify"><defs><filter height="300%" id="f18zfauvwnwluq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ed6624c6556d5e7b1bd23032162d20b7]class Client--><rect fill="#FEFECE" filter="url(#f18zfauvwnwluq)" height="48" id="Client" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="102.5" y="8"/><ellipse cx="117.5" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M116.0781,29.3594 Q114.2188,29.3594 113.125,27.9688 Q112.0313,26.5781 112.0313,23.5938 Q112.0313,21.0625 113.1953,19.4063 Q114.3594,17.75 116.3438,17.75 Q117.8125,17.75 118.2813,17.875 Q118.75,18.0781 118.75,18.0781 Q118.75,18.0781 118.75,18.0078 Q118.75,17.9375 119.3594,17.0156 L120.4063,20.6719 L119.0781,21.0781 Q118.6094,19.5313 117.9453,18.8672 Q117.2813,18.2031 116.2188,18.2031 Q115.8281,18.2031 115.0625,19.7344 Q114.2969,21.2656 114.2969,23.5156 Q114.2969,25.9844 114.9609,27.375 Q115.625,28.7656 116.1563,28.7656 Q117.2188,28.7656 117.9766,28 Q118.7344,27.2344 119.0781,25.5781 L120.4063,26.1719 Q120.0781,27.5781 119.1797,28.4688 Q118.2813,29.3594 116.0781,29.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="131.5" y="29.5576">Client</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="103.5" x2="165.5" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="103.5" x2="165.5" y1="48" y2="48"/><!--MD5=[443d23e8e2b3ceb395e1e555e3eab31e]class Promisor--><rect fill="#FEFECE" filter="url(#f18zfauvwnwluq)" height="63.0229" id="Promisor" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="21.5" y="116"/><ellipse cx="51.35" cy="132" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M49.9281,137.3594 Q48.0688,137.3594 46.975,135.9688 Q45.8813,134.5781 45.8813,131.5938 Q45.8813,129.0625 47.0453,127.4063 Q48.2094,125.75 50.1938,125.75 Q51.6625,125.75 52.1313,125.875 Q52.6,126.0781 52.6,126.0781 Q52.6,126.0781 52.6,126.0078 Q52.6,125.9375 53.2094,125.0156 L54.2563,128.6719 L52.9281,129.0781 Q52.4594,127.5313 51.7953,126.8672 Q51.1313,126.2031 50.0688,126.2031 Q49.6781,126.2031 48.9125,127.7344 Q48.1469,129.2656 48.1469,131.5156 Q48.1469,133.9844 48.8109,135.375 Q49.475,136.7656 50.0063,136.7656 Q51.0688,136.7656 51.8266,136 Q52.5844,135.2344 52.9281,133.5781 L54.2563,134.1719 Q53.9281,135.5781 53.0297,136.4688 Q52.1313,137.3594 49.9281,137.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="68.65" y="137.5576">Promisor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="136.5" y1="148" y2="148"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="136.5" y1="156" y2="156"/><ellipse cx="32.5" cy="167" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="41.5" y="172.606">Promise compute()</text><!--MD5=[f1a375cc0ebc9f2bec7aa9b05864ef19]class TaskExecutor--><rect fill="#FEFECE" filter="url(#f18zfauvwnwluq)" height="63.0229" id="TaskExecutor" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="26.5" y="239"/><ellipse cx="41.5" cy="255" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M40.0781,260.3594 Q38.2188,260.3594 37.125,258.9688 Q36.0313,257.5781 36.0313,254.5938 Q36.0313,252.0625 37.1953,250.4063 Q38.3594,248.75 40.3438,248.75 Q41.8125,248.75 42.2813,248.875 Q42.75,249.0781 42.75,249.0781 Q42.75,249.0781 42.75,249.0078 Q42.75,248.9375 43.3594,248.0156 L44.4063,251.6719 L43.0781,252.0781 Q42.6094,250.5313 41.9453,249.8672 Q41.2813,249.2031 40.2188,249.2031 Q39.8281,249.2031 39.0625,250.7344 Q38.2969,252.2656 38.2969,254.5156 Q38.2969,256.9844 38.9609,258.375 Q39.625,259.7656 40.1563,259.7656 Q41.2188,259.7656 41.9766,259 Q42.7344,258.2344 43.0781,256.5781 L44.4063,257.1719 Q44.0781,258.5781 43.1797,259.4688 Q42.2813,260.3594 40.0781,260.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="55.5" y="260.5576">TaskExecutor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="27.5" x2="131.5" y1="271" y2="271"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="27.5" x2="131.5" y1="279" y2="279"/><ellipse cx="37.5" cy="290" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="46.5" y="295.606">run()</text><!--MD5=[2741598bdf59a7d7e0d5c97658fd3022]class Result--><rect fill="#FEFECE" filter="url(#f18zfauvwnwluq)" height="48" id="Result" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="156.5" y="384.5"/><ellipse cx="171.5" cy="400.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M170.0781,405.8594 Q168.2188,405.8594 167.125,404.4688 Q166.0313,403.0781 166.0313,400.0938 Q166.0313,397.5625 167.1953,395.9063 Q168.3594,394.25 170.3438,394.25 Q171.8125,394.25 172.2813,394.375 Q172.75,394.5781 172.75,394.5781 Q172.75,394.5781 172.75,394.5078 Q172.75,394.4375 173.3594,393.5156 L174.4063,397.1719 L173.0781,397.5781 Q172.6094,396.0313 171.9453,395.3672 Q171.2813,394.7031 170.2188,394.7031 Q169.8281,394.7031 169.0625,396.2344 Q168.2969,397.7656 168.2969,400.0156 Q168.2969,402.4844 168.9609,403.875 Q169.625,405.2656 170.1563,405.2656 Q171.2188,405.2656 171.9766,404.5 Q172.7344,403.7344 173.0781,402.0781 L174.4063,402.6719 Q174.0781,404.0781 173.1797,404.9688 Q172.2813,405.8594 170.0781,405.8594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="185.5" y="406.0576">Result</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="157.5" x2="223.5" y1="416.5" y2="416.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="157.5" x2="223.5" y1="424.5" y2="424.5"/><!--MD5=[b59cb0292cbab4b73c77d0ad579c4efd]class Promise--><rect fill="#FEFECE" filter="url(#f18zfauvwnwluq)" height="93.0688" id="Promise" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="6" y="362"/><ellipse cx="37.2" cy="378" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M35.7781,383.3594 Q33.9188,383.3594 32.825,381.9688 Q31.7313,380.5781 31.7313,377.5938 Q31.7313,375.0625 32.8953,373.4063 Q34.0594,371.75 36.0438,371.75 Q37.5125,371.75 37.9813,371.875 Q38.45,372.0781 38.45,372.0781 Q38.45,372.0781 38.45,372.0078 Q38.45,371.9375 39.0594,371.0156 L40.1063,374.6719 L38.7781,375.0781 Q38.3094,373.5313 37.6453,372.8672 Q36.9813,372.2031 35.9188,372.2031 Q35.5281,372.2031 34.7625,373.7344 Q33.9969,375.2656 33.9969,377.5156 Q33.9969,379.9844 34.6609,381.375 Q35.325,382.7656 35.8563,382.7656 Q36.9188,382.7656 37.6766,382 Q38.4344,381.2344 38.7781,379.5781 L40.1063,380.1719 Q39.7781,381.5781 38.8797,382.4688 Q37.9813,383.3594 35.7781,383.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="47" x="54.8" y="383.5576">Promise</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="120" y1="394" y2="394"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="120" y1="402" y2="402"/><ellipse cx="17" cy="413" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="26" y="418.606">Result getResult()</text><ellipse cx="17" cy="428.0229" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="26" y="433.6289">setResult( Result )</text><ellipse cx="17" cy="443.0459" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="26" y="448.6519">isDone()</text><!--MD5=[942327270a8f2ccb3a614b72a69fd8cc]link Client to Promisor--><path d="M123.237,56.242 C115.596,72.011 105.3486,93.158 96.6937,111.018 " fill="none" id="Client-&gt;Promisor" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="94.2983,115.962,101.8222,109.6066,96.4784,111.4623,94.6227,106.1185,94.2983,115.962" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5ea63eac58c27fa85012a05effbb153c]link Client to Result--><path d="M140.814,56.105 C145.158,72.674 150.792,95.583 154.5,116 C171.899,211.798 183.371,326.858 188.078,379.1516 " fill="none" id="Client-&gt;Result" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="188.539,384.314,191.7226,374.9939,188.0943,379.3338,183.7543,375.7055,188.539,384.314" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[59a89bbfb2c42d0f04faa58ba718f231]link Promisor to TaskExecutor--><path d="M79.5,179.033 C79.5,195.656 79.5,216.318 79.5,233.696 " fill="none" id="Promisor-&gt;TaskExecutor" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="79.5,238.976,83.5,229.976,79.5,233.976,75.5,229.976,79.5,238.976" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a940c7f23864681c79c1fb76262dc48b]link TaskExecutor to Promise--><path d="M75.9093,302.021 C74.0144,318.128 71.6395,338.314 69.4761,356.7036 " fill="none" id="TaskExecutor-&gt;Promise" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="68.872,361.8379,73.8963,353.367,69.4563,356.8722,65.9511,352.4321,68.872,361.8379" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f5c86a66c2bd4a1200de654cea7643c5]link TaskExecutor to Result--><path d="M104.4106,302.021 C123.546,325.466 149.736,357.5551 168.189,380.1645 " fill="none" id="TaskExecutor-&gt;Result" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="171.542,384.2717,168.9509,374.7698,168.3808,380.3978,162.7527,379.8277,171.542,384.2717" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8c5bf4d90b56fd6db2c20e1d6a59da81]@startumlclass Clientclass Promisor {+Promise compute()}class TaskExecutor {+run()}class Resultclass Promise {+Result getResult()+setResult( Result )+isDone()}Client ..> PromisorClient ..> ResultPromisor ..> TaskExecutorTaskExecutor ..> Promise TaskExecutor ..> Result@endumlPlantUML version 1.2020.10(Sun May 17 17:35:57 CST 2020)(GPL source distribution)Java Runtime: Java(TM) SE Runtime EnvironmentJVM: Java HotSpot(TM) Client VMJava Version: 1.8.0_271-b09Operating System: Windows 10Default Encoding: GBKLanguage: zhCountry: CN--></g></svg><h3 id="Sequence-Diagram"><a href="#Sequence-Diagram" class="headerlink" title="Sequence Diagram"></a>Sequence Diagram</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="227px" preserveAspectRatio="none" style="width:297px;height:227px;" version="1.1" viewBox="0 0 297 227" width="297px" zoomAndPan="magnify"><defs><filter height="300%" id="foce3n4f5xh8u" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#foce3n4f5xh8u)" height="45.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="135" y="74.8745"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="35" x2="35" y1="41.1201" y2="184.3833"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="140" x2="140" y1="41.1201" y2="184.3833"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="255.5" x2="255.5" y1="41.1201" y2="184.3833"/><rect fill="#FEFECE" filter="url(#foce3n4f5xh8u)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="15" y="26.0439">Client</text><rect fill="#FEFECE" filter="url(#foce3n4f5xh8u)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="8" y="183.3833"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="15" y="206.4272">Client</text><rect fill="#FEFECE" filter="url(#foce3n4f5xh8u)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="103" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="110" y="26.0439">Promisor</text><rect fill="#FEFECE" filter="url(#foce3n4f5xh8u)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="103" y="183.3833"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="110" y="206.4272">Promisor</text><rect fill="#FEFECE" filter="url(#foce3n4f5xh8u)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="221.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="228.5" y="26.0439">Promise</text><rect fill="#FEFECE" filter="url(#foce3n4f5xh8u)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="221.5" y="183.3833"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="228.5" y="206.4272">Promise</text><rect fill="#FFFFFF" filter="url(#foce3n4f5xh8u)" height="45.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="135" y="74.8745"/><polygon fill="#A80036" points="123,70.8745,133,74.8745,123,78.8745,127,74.8745" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35" x2="129" y1="74.8745" y2="74.8745"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="42" y="70.0181">1 : computer()</text><polygon fill="#A80036" points="244,102.6289,254,106.6289,244,110.6289,248,106.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="145" x2="250" y1="106.6289" y2="106.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="152" y="101.7725">2 : &lt;&lt;create&gt;&gt;</text><polygon fill="#A80036" points="46,116.6289,36,120.6289,46,124.6289,42,120.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="40" x2="139" y1="120.6289" y2="120.6289"/><polygon fill="#A80036" points="244,148.3833,254,152.3833,244,156.3833,248,152.3833" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35" x2="250" y1="152.3833" y2="152.3833"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="42" y="147.5269">4 : getResult()</text><polygon fill="#A80036" points="46,162.3833,36,166.3833,46,170.3833,42,166.3833" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="40" x2="255" y1="166.3833" y2="166.3833"/><!--MD5=[480549f5916095fe4275544836d47c4d]@startumlClient -> Promisor++ :1 : computer()Promisor -> Promise :2 : <<create>>returnClient -> Promise :4 : getResult()return@endumlPlantUML version 1.2020.10(Sun May 17 17:35:57 CST 2020)(GPL source distribution)Java Runtime: Java(TM) SE Runtime EnvironmentJVM: Java HotSpot(TM) Client VMJava Version: 1.8.0_271-b09Operating System: Windows 10Default Encoding: GBKLanguage: zhCountry: CN--></g></svg>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h3&gt;&lt;p&gt;通过返回包含阻塞方法的凭据对象，使得调用方法无需等待即可继续执行，待需要结果时，通过调用凭据对象的阻塞方法获取结果。&lt;/p&gt;
&lt;h3 id=</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/"/>
    
    <category term="Concurrent Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/Concurrent-Pattern/"/>
    
    
  </entry>
  
  <entry>
    <title>Two-phase Termination 两阶段终止模式</title>
    <link href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/two-phase_termination/"/>
    <id>https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/two-phase_termination/</id>
    <published>2020-12-08T07:19:17.849Z</published>
    <updated>2020-12-08T07:50:09.596Z</updated>
    
    <content type="html"><![CDATA[<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>将线程停止拆分成准备阶段及执行阶段两个步骤。</p><ol><li><p>准备阶段</p><p>通知相应线程需要停止，在线程池的场景，一般包括设置停止标志，调用可中断线程的interrupt方法，关闭等待IO操作的Socket等</p></li><li><p>停止</p><p>检查准备阶段设置的停止信号，决定线程停止时机，进行适当清理等。</p></li></ol><p>Java ThreadPoolExecutor就使用了此类模式来停止其维护的线程。</p><p>​    </p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h3&gt;&lt;p&gt;将线程停止拆分成准备阶段及执行阶段两个步骤。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;准备阶段&lt;/p&gt;
&lt;p&gt;通知相应线程需要停止，在线程池的场景，</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/"/>
    
    <category term="Concurrent Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/Concurrent-Pattern/"/>
    
    
  </entry>
  
  <entry>
    <title>Imumutable Object</title>
    <link href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/immutable_object/"/>
    <id>https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/immutable_object/</id>
    <published>2020-12-08T05:16:58.921Z</published>
    <updated>2020-12-08T06:24:32.695Z</updated>
    
    <content type="html"><![CDATA[<h3 id="不可变对象及其作用"><a href="#不可变对象及其作用" class="headerlink" title="不可变对象及其作用"></a>不可变对象及其作用</h3><p>通过使用不可变对象表征对象状态，避免访问状态时的同步需求。</p><p>所谓状态不可变，并非指现实世界的实体状态不可变，而是我们建模时的一种决策，即可以用不可变状态表示某时刻的状态，事物状态变化可以用替换为其他不可变对象表示。</p><h3 id="Immutable-Object-类图"><a href="#Immutable-Object-类图" class="headerlink" title="Immutable Object 类图"></a>Immutable Object 类图</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="358px" preserveAspectRatio="none" style="width:389px;height:358px;" version="1.1" viewBox="0 0 389 358" width="389px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ewv4mjijxtrm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ed6624c6556d5e7b1bd23032162d20b7]class Client--><rect fill="#FEFECE" filter="url(#f1ewv4mjijxtrm)" height="48" id="Client" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="167" y="8"/><ellipse cx="182" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M180.5781,29.3594 Q178.7188,29.3594 177.625,27.9688 Q176.5313,26.5781 176.5313,23.5938 Q176.5313,21.0625 177.6953,19.4063 Q178.8594,17.75 180.8438,17.75 Q182.3125,17.75 182.7813,17.875 Q183.25,18.0781 183.25,18.0781 Q183.25,18.0781 183.25,18.0078 Q183.25,17.9375 183.8594,17.0156 L184.9063,20.6719 L183.5781,21.0781 Q183.1094,19.5313 182.4453,18.8672 Q181.7813,18.2031 180.7188,18.2031 Q180.3281,18.2031 179.5625,19.7344 Q178.7969,21.2656 178.7969,23.5156 Q178.7969,25.9844 179.4609,27.375 Q180.125,28.7656 180.6563,28.7656 Q181.7188,28.7656 182.4766,28 Q183.2344,27.2344 183.5781,25.5781 L184.9063,26.1719 Q184.5781,27.5781 183.6797,28.4688 Q182.7813,29.3594 180.5781,29.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="196" y="29.5576">Client</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="168" x2="230" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168" x2="230" y1="48" y2="48"/><!--MD5=[e6b5a67f046c47f8f224e24eebb57bcd]class Manipulator--><rect fill="#FEFECE" filter="url(#f1ewv4mjijxtrm)" height="63.0229" id="Manipulator" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="6" y="146"/><ellipse cx="60.75" cy="162" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M59.3281,167.3594 Q57.4688,167.3594 56.375,165.9688 Q55.2813,164.5781 55.2813,161.5938 Q55.2813,159.0625 56.4453,157.4063 Q57.6094,155.75 59.5938,155.75 Q61.0625,155.75 61.5313,155.875 Q62,156.0781 62,156.0781 Q62,156.0781 62,156.0078 Q62,155.9375 62.6094,155.0156 L63.6563,158.6719 L62.3281,159.0781 Q61.8594,157.5313 61.1953,156.8672 Q60.5313,156.2031 59.4688,156.2031 Q59.0781,156.2031 58.3125,157.7344 Q57.5469,159.2656 57.5469,161.5156 Q57.5469,163.9844 58.2109,165.375 Q58.875,166.7656 59.4063,166.7656 Q60.4688,166.7656 61.2266,166 Q61.9844,165.2344 62.3281,163.5781 L63.6563,164.1719 Q63.3281,165.5781 62.4297,166.4688 Q61.5313,167.3594 59.3281,167.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="81.25" y="167.5576">Manipulator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="187" y1="178" y2="178"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="187" y1="186" y2="186"/><ellipse cx="17" cy="197" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="26" y="202.606">void changeStatusTo(int x, int y)</text><!--MD5=[1d051411bfd12184afb640e9f4bbb608]class ImmutableState--><rect fill="#FEFECE" filter="url(#f1ewv4mjijxtrm)" height="123.1147" id="ImmutableState" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="223.5" y="116"/><ellipse cx="254.7" cy="132" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M253.2781,137.3594 Q251.4188,137.3594 250.325,135.9688 Q249.2313,134.5781 249.2313,131.5938 Q249.2313,129.0625 250.3953,127.4063 Q251.5594,125.75 253.5438,125.75 Q255.0125,125.75 255.4813,125.875 Q255.95,126.0781 255.95,126.0781 Q255.95,126.0781 255.95,126.0078 Q255.95,125.9375 256.5594,125.0156 L257.6063,128.6719 L256.2781,129.0781 Q255.8094,127.5313 255.1453,126.8672 Q254.4813,126.2031 253.4188,126.2031 Q253.0281,126.2031 252.2625,127.7344 Q251.4969,129.2656 251.4969,131.5156 Q251.4969,133.9844 252.1609,135.375 Q252.825,136.7656 253.3563,136.7656 Q254.4188,136.7656 255.1766,136 Q255.9344,135.2344 256.2781,133.5781 L257.6063,134.1719 Q257.2781,135.5781 256.3797,136.4688 Q255.4813,137.3594 253.2781,137.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="272.3" y="137.5576">ImmutableState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="224.5" x2="377.5" y1="148" y2="148"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="231.5" y="156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="243.5" y="164.606">final int x</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="231.5" y="171.0229"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="243.5" y="179.6289">final int y</text><ellipse cx="234.5" cy="189.0459" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="243.5" y="194.6519">int getX</text><ellipse cx="234.5" cy="204.0688" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="243.5" y="209.6748">int getY</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="224.5" x2="377.5" y1="216.0918" y2="216.0918"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="231.5" y="224.0918"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="243.5" y="232.6978">ImmutableState( int x, int y)</text><!--MD5=[e3238b9fd03ab94daa938f5e19edf1ad]class ImmutalbeState--><rect fill="#FEFECE" filter="url(#f1ewv4mjijxtrm)" height="48" id="ImmutalbeState" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="37.5" y="299"/><ellipse cx="52.5" cy="315" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M51.0781,320.3594 Q49.2188,320.3594 48.125,318.9688 Q47.0313,317.5781 47.0313,314.5938 Q47.0313,312.0625 48.1953,310.4063 Q49.3594,308.75 51.3438,308.75 Q52.8125,308.75 53.2813,308.875 Q53.75,309.0781 53.75,309.0781 Q53.75,309.0781 53.75,309.0078 Q53.75,308.9375 54.3594,308.0156 L55.4063,311.6719 L54.0781,312.0781 Q53.6094,310.5313 52.9453,309.8672 Q52.2813,309.2031 51.2188,309.2031 Q50.8281,309.2031 50.0625,310.7344 Q49.2969,312.2656 49.2969,314.5156 Q49.2969,316.9844 49.9609,318.375 Q50.625,319.7656 51.1563,319.7656 Q52.2188,319.7656 52.9766,319 Q53.7344,318.2344 54.0781,316.5781 L55.4063,317.1719 Q55.0781,318.5781 54.1797,319.4688 Q53.2813,320.3594 51.0781,320.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="66.5" y="320.5576">ImmutalbeState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="155.5" y1="331" y2="331"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="155.5" y1="339" y2="339"/><!--MD5=[5f15049ab25688dcf9e926fd701a54a6]link Client to Manipulator--><path d="M182.612,56.056 C166.148,79.218 140.572,115.2 121.658,141.809 " fill="none" id="Client-&gt;Manipulator" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="118.682,145.996,127.1574,140.9793,121.5795,141.9212,120.6377,136.3433,118.682,145.996" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e5ad24d8a3b1b3bbea1c607c5a86a42d]link Client to ImmutableState--><path d="M215.388,56.056 C226.068,71.082 240.583,91.502 254.627,111.259 " fill="none" id="Client-&gt;ImmutableState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="257.803,115.728,255.8473,106.0753,254.9055,111.6532,249.3276,110.7113,257.803,115.728" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[aded766624436b47609ac3bf77b407f4]reverse link Manipulator to ImmutalbeState--><path d="M97,222.614 C97,247.775 97,278.2874 97,298.811 " fill="none" id="Manipulator&lt;-ImmutalbeState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="97,209.284,93,215.284,97,221.284,101,215.284,97,209.284" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[351415ad83c2b7db070aed7c5bbe47ab]@startumlclass Clientclass Manipulator {    +void changeStatusTo(int x, int y)}class ImmutableState {    -final int x    -final int y    -ImmutableState( int x, int y)    +int getX    +int getY}Client - -> ManipulatorClient - -> ImmutableStateManipulator o- - ImmutalbeState@endumlPlantUML version 1.2020.10(Sun May 17 17:35:57 CST 2020)(GPL source distribution)Java Runtime: Java(TM) SE Runtime EnvironmentJVM: Java HotSpot(TM) Client VMJava Version: 1.8.0_271-b09Operating System: Windows 10Default Encoding: GBKLanguage: zhCountry: CN--></g></svg><h3 id="Sequence-Diagram"><a href="#Sequence-Diagram" class="headerlink" title="Sequence Diagram"></a>Sequence Diagram</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="384px" preserveAspectRatio="none" style="width:448px;height:384px;" version="1.1" viewBox="0 0 448 384" width="448px" zoomAndPan="magnify"><defs><filter height="300%" id="f1rrdyyzq55ke2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="281.6465" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="30" y="51.1201"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="124.5" y="74.8745"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="124.5" y="138.3833"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="124.5" y="309.7666"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="20.3657" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="364.5" y="243.6465"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="35" x2="35" y1="41.1201" y2="341.7666"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="129" x2="129" y1="41.1201" y2="341.7666"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="237" x2="237" y1="41.1201" y2="341.7666"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="369.5" x2="369.5" y1="243.9521" y2="341.7666"/><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="15" y="26.0439">Client</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="8" y="340.7666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="15" y="363.8105">Client</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="72" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="79" y="26.0439">ImmutableState</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="72" y="340.7666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="79" y="363.8105">ImmutableState</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="197" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="204" y="26.0439">Manulator</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="197" y="340.7666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="204" y="363.8105">Manulator</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="297.5" y="340.7666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="304.5" y="363.8105">new ImmutableState</text><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="281.6465" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="30" y="51.1201"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="124.5" y="74.8745"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="124.5" y="138.3833"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="124.5" y="309.7666"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="20.3657" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="364.5" y="243.6465"/><polygon fill="#A80036" points="112.5,70.8745,122.5,74.8745,112.5,78.8745,116.5,74.8745" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40" x2="118.5" y1="74.8745" y2="74.8745"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="47" y="70.0181">getStateX</text><polygon fill="#A80036" points="51,102.6289,41,106.6289,51,110.6289,47,106.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="45" x2="128.5" y1="106.6289" y2="106.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="57" y="101.7725">StateX</text><polygon fill="#A80036" points="112.5,134.3833,122.5,138.3833,112.5,142.3833,116.5,138.3833" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40" x2="118.5" y1="138.3833" y2="138.3833"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="47" y="133.5269">getStateY</text><polygon fill="#A80036" points="51,166.1377,41,170.1377,51,174.1377,47,170.1377" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="45" x2="128.5" y1="170.1377" y2="170.1377"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="57" y="165.2813">StateY</text><polygon fill="#A80036" points="225.5,197.8921,235.5,201.8921,225.5,205.8921,229.5,201.8921" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40" x2="231.5" y1="201.8921" y2="201.8921"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="47" y="197.0356">changeState</text><polygon fill="#A80036" points="285.5,229.6465,295.5,233.6465,285.5,237.6465,289.5,233.6465" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="237.5" x2="291.5" y1="233.6465" y2="233.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="244.5" y="228.79">create</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="297.5" y="209.8921"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="304.5" y="232.936">new ImmutableState</text><polygon fill="#A80036" points="248.5,260.0122,238.5,264.0122,248.5,268.0122,244.5,264.0122" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="242.5" x2="368.5" y1="264.0122" y2="264.0122"/><polygon fill="#A80036" points="51,274.0122,41,278.0122,51,282.0122,47,278.0122" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="45" x2="236.5" y1="278.0122" y2="278.0122"/><polygon fill="#A80036" points="112.5,305.7666,122.5,309.7666,112.5,313.7666,116.5,309.7666" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40" x2="118.5" y1="309.7666" y2="309.7666"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="47" y="304.9102">getState()</text><polygon fill="#A80036" points="51,319.7666,41,323.7666,51,327.7666,47,323.7666" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="45" x2="128.5" y1="323.7666" y2="323.7666"/><!--MD5=[e179a3c4b3fd44bf9af72dbe1f871bcd]@startumlactivate ClientClient -> ImmutableState++ :getStateXreturn StateXClient -> ImmutableState++ :getStateYreturn StateYClient -> Manulator :changeState    Manulator -> "new ImmutableState"** :create    activate "new ImmutableState"    return Manulator - -> ClientClient -> ImmutableState++ :getState()return@endumlPlantUML version 1.2020.10(Sun May 17 17:35:57 CST 2020)(GPL source distribution)Java Runtime: Java(TM) SE Runtime EnvironmentJVM: Java HotSpot(TM) Client VMJava Version: 1.8.0_271-b09Operating System: Windows 10Default Encoding: GBKLanguage: zhCountry: CN--></g></svg>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;不可变对象及其作用&quot;&gt;&lt;a href=&quot;#不可变对象及其作用&quot; class=&quot;headerlink&quot; title=&quot;不可变对象及其作用&quot;&gt;&lt;/a&gt;不可变对象及其作用&lt;/h3&gt;&lt;p&gt;通过使用不可变对象表征对象状态，避免访问状态时的同步需求。&lt;/p&gt;
&lt;p&gt;所谓状态不</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/"/>
    
    <category term="Concurrent Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/Concurrent-Pattern/"/>
    
    
  </entry>
  
  <entry>
    <title>GIT Rebase 学习 //TODO</title>
    <link href="https://q0519.gitee.io/2020/12/05/Others/git_tutorial/"/>
    <id>https://q0519.gitee.io/2020/12/05/Others/git_tutorial/</id>
    <published>2020-12-05T14:27:21.954Z</published>
    <updated>2021-01-16T03:30:11.662Z</updated>
    
    <content type="html"><![CDATA[<h3 id="动机"><a href="#动机" class="headerlink" title="动机"></a>动机</h3><p>一般git rebase在过去项目中很少用到，最近阅读了如下blog, <a href="https://blog.scottlogic.com/2020/01/09/git-rebasing.html">Git Rebase</a> ，很赞同作者说的“提交历史质量与代码质量同等重要” ，因此在囫囵吞枣式地阅读了一下后，有了如下笔记。</p><h2 id="Rebase的适用情形"><a href="#Rebase的适用情形" class="headerlink" title="Rebase的适用情形"></a>Rebase的适用情形</h2><ul><li>Edit/rework a commit in the history </li><li>修订提交历史</li><li>Add a commit into the history of a change set (or branch)</li><li>增加一个改变集合或分支的提交到历史</li><li>Remove a commit from the history of a change set (or branch)</li><li>删除一个改变集合或分支的提交到历史</li><li>Split a commit into several commits</li><li>拆分一个提交到若干各提交</li><li>Combine a series of commits into one commit</li><li>合并一系列提交为一个单独提交</li><li>Re-order commits</li><li>重新排序提交</li></ul><h3 id="用于合并本地若干次提交"><a href="#用于合并本地若干次提交" class="headerlink" title="用于合并本地若干次提交"></a>用于合并本地若干次提交</h3><p>将本地近三次提交合并，可以通过rebase -i 进入交互式编辑</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i HEAD~3</span><br></pre></td></tr></table></figure><p>之后，在文本编辑界面中，将看到最近几次提交的记录，类似</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pick 09i3foe comments</span><br><span class="line">pick jeo32jo comments</span><br><span class="line">pick je323jo comments</span><br></pre></td></tr></table></figure><p>此时，可以通过改变pick命令来完成多次提交的合并。相关指令说明：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Commands:</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> p, pick &lt;commit&gt; = use commit</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> r, reword &lt;commit&gt; = use commit, but edit the commit message</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> e, edit &lt;commit&gt; = use commit, but stop <span class="keyword">for</span> amending</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> s, squash &lt;commit&gt; = use commit, but meld into previous commit</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> f, fixup &lt;commit&gt; = like <span class="string">&quot;squash&quot;</span>, but discard this commit<span class="string">&#x27;s log message</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> x, <span class="built_in">exec</span> &lt;<span class="built_in">command</span>&gt; = run <span class="built_in">command</span> (the rest of the line) using shell</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> b, <span class="built_in">break</span> = stop here (<span class="built_in">continue</span> Rebase later with <span class="string">&#x27;git rebase --continue&#x27;</span>)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> d, drop &lt;commit&gt; = remove commit</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> l, label &lt;label&gt; = label current HEAD with a name</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> t, reset &lt;label&gt; = reset HEAD to a label</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [<span class="comment"># &lt;oneline&gt;]</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> .       create a merge commit using the original merge commit<span class="string">&#x27;s</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> .       message (or the oneline, <span class="keyword">if</span> no original merge commit was</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> .       specified). Use -c &lt;commit&gt; to reword the commit message.</span></span><br></pre></td></tr></table></figure><p>显然，可以通过将第一个保留为pick，将其他的改为squash或者fixup来完成多条提交合并。</p><h3 id=""><a href="#" class="headerlink" title=""></a></h3>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;动机&quot;&gt;&lt;a href=&quot;#动机&quot; class=&quot;headerlink&quot; title=&quot;动机&quot;&gt;&lt;/a&gt;动机&lt;/h3&gt;&lt;p&gt;一般git rebase在过去项目中很少用到，最近阅读了如下blog, &lt;a href=&quot;https://blog.scottlogic.c</summary>
      
    
    
    
    <category term="Others" scheme="https://q0519.gitee.io/categories/Others/"/>
    
    
  </entry>
  
  <entry>
    <title>Guarded Suspension 保护性暂挂模式</title>
    <link href="https://q0519.gitee.io/2020/12/04/Design%20Pattern/Concurrent%20Pattern/guarded_suspension/"/>
    <id>https://q0519.gitee.io/2020/12/04/Design%20Pattern/Concurrent%20Pattern/guarded_suspension/</id>
    <published>2020-12-04T09:59:42.354Z</published>
    <updated>2020-12-08T10:33:02.721Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Guarded-Suspension-保护性暂挂"><a href="#Guarded-Suspension-保护性暂挂" class="headerlink" title="Guarded Suspension 保护性暂挂"></a>Guarded Suspension 保护性暂挂</h3><p>当持有锁时，如果条件不满足，暂时挂起执行线程，等待条件满足时再次唤醒，判断条件后，执行操作。</p><h3 id="伪代码"><a href="#伪代码" class="headerlink" title="伪代码"></a>伪代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Lock lock = <span class="keyword">new</span> Lock();</span><br><span class="line">Conditon condition = lock.newCondition()</span><br><span class="line">...</span><br><span class="line">lock.lock();</span><br><span class="line"><span class="keyword">while</span> ( conditon not satisfied ) &#123;</span><br><span class="line">    conditon.await()</span><br><span class="line">&#125;</span><br><span class="line">doOperation();</span><br><span class="line">lock.unLock()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Sequence-Diagram"><a href="#Sequence-Diagram" class="headerlink" title="Sequence Diagram"></a>Sequence Diagram</h3><p>内部逻辑，图参考自&lt;&lt;Java多线程编程实战指南（设计模式篇）&gt;&gt; 黄文海 著</p><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="501px" preserveAspectRatio="none" style="width:751px;height:501px;" version="1.1" viewBox="0 0 751 501" width="751px" zoomAndPan="magnify"><defs><filter height="300%" id="f1314rdgt6cgk0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="374.3213" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="170" y="74.8745"/><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="310.8125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="455" y="138.3833"/><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="598" y="260.4238"/><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="115.0405" style="stroke: #000000; stroke-width: 2.0;" width="322.5" x="417.5" y="216.8921"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="35" x2="35" y1="41.1201" y2="458.1958"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="174.5" x2="174.5" y1="41.1201" y2="458.1958"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="298.5" x2="298.5" y1="41.1201" y2="458.1958"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="459.5" x2="459.5" y1="41.1201" y2="458.1958"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="603" x2="603" y1="41.1201" y2="458.1958"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="691" x2="691" y1="41.1201" y2="458.1958"/><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="15" y="26.0439">Client</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="8" y="457.1958"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="15" y="480.2397">Client</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="117.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="124.5" y="26.0439">GuardedObject</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="117.5" y="457.1958"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="124.5" y="480.2397">GuardedObject</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="242.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="249.5" y="26.0439">GuardedAction</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="242.5" y="457.1958"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="249.5" y="480.2397">GuardedAction</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="427.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="434.5" y="26.0439">Blocker</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="427.5" y="457.1958"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="434.5" y="480.2397">Blocker</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="564" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="571" y="26.0439">Predicate</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="564" y="457.1958"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="571" y="480.2397">Predicate</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="652" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="659" y="26.0439">Condition</text><rect fill="#FEFECE" filter="url(#f1314rdgt6cgk0)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="74" x="652" y="457.1958"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="659" y="480.2397">Condition</text><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="374.3213" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="170" y="74.8745"/><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="310.8125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="455" y="138.3833"/><rect fill="#FFFFFF" filter="url(#f1314rdgt6cgk0)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="598" y="260.4238"/><polygon fill="#A80036" points="158,70.8745,168,74.8745,158,78.8745,162,74.8745" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35" x2="164" y1="74.8745" y2="74.8745"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="42" y="70.0181">1 : guardedMethod()</text><polygon fill="#A80036" points="287,102.6289,297,106.6289,287,110.6289,291,106.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="180" x2="293" y1="106.6289" y2="106.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="187" y="101.7725">2 : &lt;&lt;create&gt;&gt;</text><polygon fill="#A80036" points="443,134.3833,453,138.3833,443,142.3833,447,138.3833" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="180" x2="449" y1="138.3833" y2="138.3833"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="187" y="133.5269">3 : callWithGuard()</text><polygon fill="#A80036" points="191,166.1377,181,170.1377,191,174.1377,187,170.1377" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="185" x2="454" y1="170.1377" y2="170.1377"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="197" y="165.2813">getGuard()</text><polygon fill="#A80036" points="443,197.8921,453,201.8921,443,205.8921,447,201.8921" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="180" x2="449" y1="201.8921" y2="201.8921"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="187" y="197.0356">5: predicate</text><path d="M417.5,216.8921 L490.5,216.8921 L490.5,225.8921 L480.5,235.8921 L417.5,235.8921 L417.5,216.8921 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="115.0405" style="stroke: #000000; stroke-width: 2.0;" width="322.5" x="417.5" y="216.8921"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="432.5" y="232.79">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="505.5" y="231.498">[SuspendIfNecessary]</text><polygon fill="#A80036" points="586,256.4238,596,260.4238,586,264.4238,590,260.4238" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465" x2="592" y1="260.4238" y2="260.4238"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="472" y="255.5674">6 : evaluate()</text><polygon fill="#A80036" points="476,288.1782,466,292.1782,476,296.1782,472,292.1782" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="470" x2="602" y1="292.1782" y2="292.1782"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="482" y="287.3218">7 : isPredicateTrue</text><polygon fill="#A80036" points="679,319.9326,689,323.9326,679,327.9326,683,323.9326" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="465" x2="685" y1="323.9326" y2="323.9326"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="472" y="319.0762">8 : await()</text><polygon fill="#A80036" points="310,358.687,300,362.687,310,366.687,306,362.687" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="304" x2="454" y1="362.687" y2="362.687"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="43" x="316" y="357.8306">9 :call()</text><polygon fill="#A80036" points="443,390.4414,453,394.4414,443,398.4414,447,394.4414" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="299" x2="449" y1="394.4414" y2="394.4414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="306" y="389.585">10 : actionReturnValue</text><polygon fill="#A80036" points="191,422.1958,181,426.1958,191,430.1958,187,426.1958" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="185" x2="454" y1="426.1958" y2="426.1958"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="197" y="421.3394">11 : actionReturnValue</text><polygon fill="#A80036" points="46,436.1958,36,440.1958,46,444.1958,42,440.1958" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="40" x2="169" y1="440.1958" y2="440.1958"/><!--MD5=[f321526faf5edb38fc52acc2167297cd]@startumlClient -> GuardedObject++ : 1 : guardedMethod()GuardedObject -> GuardedAction :2 : <<create>>GuardedObject -> Blocker++ : 3 : callWithGuard()Blocker -> GuardedObject : getGuard()GuardedObject - -> Blocker :5: predicateloop SuspendIfNecessary    Blocker -> Predicate++ :6 : evaluate()    Predicate - -> Blocker- - :7 : isPredicateTrue    Blocker -> Condition :8 : await()endBlocker -> GuardedAction :9 :call()GuardedAction - -> Blocker :10 : actionReturnValueBlocker - -> GuardedObject : 11 : actionReturnValueGuardedObject - -> Client@endumlPlantUML version 1.2020.10(Sun May 17 17:35:57 CST 2020)(GPL source distribution)Java Runtime: Java(TM) SE Runtime EnvironmentJVM: Java HotSpot(TM) Client VMJava Version: 1.8.0_271-b09Operating System: Windows 10Default Encoding: GBKLanguage: zhCountry: CN--></g></svg>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;Guarded-Suspension-保护性暂挂&quot;&gt;&lt;a href=&quot;#Guarded-Suspension-保护性暂挂&quot; class=&quot;headerlink&quot; title=&quot;Guarded Suspension 保护性暂挂&quot;&gt;&lt;/a&gt;Guarded Suspen</summary>
      
    
    
    
    <category term="Design Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/"/>
    
    <category term="Concurrent Pattern" scheme="https://q0519.gitee.io/categories/Design-Pattern/Concurrent-Pattern/"/>
    
    
  </entry>
  
  <entry>
    <title>如何有效提bug</title>
    <link href="https://q0519.gitee.io/2020/12/03/Others/how_to_confirm_bug_effectively/"/>
    <id>https://q0519.gitee.io/2020/12/03/Others/how_to_confirm_bug_effectively/</id>
    <published>2020-12-03T07:21:11.314Z</published>
    <updated>2020-12-03T07:41:51.607Z</updated>
    
    <content type="html"><![CDATA[<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>以下是读&lt;&lt;代码之殇&gt;&gt;的关于Bug提交的笔记，作为常识，应该是牢记于心的。Bug提交是一种确保软件质量的沟通手段，因此，信息的准确传达尤为重要。</p><h2 id="Bug报告的定义"><a href="#Bug报告的定义" class="headerlink" title="Bug报告的定义"></a>Bug报告的定义</h2><p>所有Bug报告，应该有如下要求</p><table><thead><tr><th>项目</th><th>说明</th></tr></thead><tbody><tr><td>标题</td><td>要简略</td></tr><tr><td>指派</td><td>由谁来处理问题</td></tr><tr><td>重现步骤</td><td>问题再次出现的相关步骤。可采用图表、视频等。</td></tr><tr><td>优先级别</td><td>问题的紧迫程度与重要性，级别不应过多，准则应该简单，易区分，易记忆。一般可以定义 <code>0-4</code> 级，优先级依次降低。</td></tr><tr><td>严重程度</td><td>问题所产生的后果</td></tr><tr><td>解决方案</td><td>怎么解决问题</td></tr></tbody></table><h2 id="Bug-优先级"><a href="#Bug-优先级" class="headerlink" title="Bug 优先级"></a>Bug 优先级</h2><p>比如，可以定义如下优先级</p><table><thead><tr><th>级别</th><th>描述</th><th>修复时间点</th></tr></thead><tbody><tr><td>Pri 0</td><td>一个需引起关注的致命错误，不存在变通方法，是一个不可逾越的bug</td><td>只有解决了问题，找到变通方法，才能安心。</td></tr><tr><td>Pri 1</td><td>一个需要引起严重关注的致命错误</td><td>必须在当前冲刺阶段解决</td></tr><tr><td>Pri 2</td><td>一个严重的错误</td><td>必须在产品发布前解决</td></tr><tr><td>Pri 3</td><td>一般性错误或者建议</td><td>最好在产品发布前解决</td></tr></tbody></table><h2 id="Bug-严重程度"><a href="#Bug-严重程度" class="headerlink" title="Bug 严重程度"></a>Bug 严重程度</h2><p>严重程度一般指影响范围。注意，严重程度和优先级是相互独立的。</p><p>比如，可以定义如下</p><table><thead><tr><th>级别</th><th>描述</th></tr></thead><tbody><tr><td>1</td><td>引起系统崩溃或者用户数据丢失</td></tr><tr><td>2</td><td>引起故障，阻断了后续操作</td></tr><tr><td>3</td><td>引起操作不便或界面显示不完整</td></tr></tbody></table><h2 id="Bug-解决方案"><a href="#Bug-解决方案" class="headerlink" title="Bug 解决方案"></a>Bug 解决方案</h2><p>对于解决Bug的说明。除了具体方案细节，一般也会用如下关键字进行归类，比如 已修复，无法重现，不修复，延期之类。</p><p>当一个Bug被解决，将会自行指派给发现它的人，如果解决方案不令人满意，则有可能再次被激活。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h3&gt;&lt;p&gt;以下是读&amp;lt;&amp;lt;代码之殇&amp;gt;&amp;gt;的关于Bug提交的笔记，作为常识，应该是牢记于心的。Bug提交是一种确保软件质量的沟通手段，</summary>
      
    
    
    
    <category term="Others" scheme="https://q0519.gitee.io/categories/Others/"/>
    
    
  </entry>
  
</feed>
