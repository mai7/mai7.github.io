<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"q0519.gitee.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="不可变对象及其作用通过使用不可变对象表征对象状态，避免访问状态时的同步需求。 所谓状态不可变，并非指现实世界的实体状态不可变，而是我们建模时的一种决策，即可以用不可变状态表示某时刻的状态，事物状态变化可以用替换为其他不可变对象表示。 Immutable Object 类图ClientManipulatorvoid changeStatusTo(int x, int y)ImmutableState">
<meta property="og:type" content="article">
<meta property="og:title" content="Imumutable Object">
<meta property="og:url" content="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/immutable_object/index.html">
<meta property="og:site_name" content="Blog">
<meta property="og:description" content="不可变对象及其作用通过使用不可变对象表征对象状态，避免访问状态时的同步需求。 所谓状态不可变，并非指现实世界的实体状态不可变，而是我们建模时的一种决策，即可以用不可变状态表示某时刻的状态，事物状态变化可以用替换为其他不可变对象表示。 Immutable Object 类图ClientManipulatorvoid changeStatusTo(int x, int y)ImmutableState">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-12-08T05:16:58.921Z">
<meta property="article:modified_time" content="2020-12-08T06:24:32.695Z">
<meta property="article:author" content="Vincent Q">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/immutable_object/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Imumutable Object | Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/immutable_object/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Vincent Q">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Imumutable Object
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-12-08 13:16:58 / Modified: 14:24:32" itemprop="dateCreated datePublished" datetime="2020-12-08T13:16:58+08:00">2020-12-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/" itemprop="url" rel="index"><span itemprop="name">Design Pattern</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/Concurrent-Pattern/" itemprop="url" rel="index"><span itemprop="name">Concurrent Pattern</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="不可变对象及其作用"><a href="#不可变对象及其作用" class="headerlink" title="不可变对象及其作用"></a>不可变对象及其作用</h3><p>通过使用不可变对象表征对象状态，避免访问状态时的同步需求。</p>
<p>所谓状态不可变，并非指现实世界的实体状态不可变，而是我们建模时的一种决策，即可以用不可变状态表示某时刻的状态，事物状态变化可以用替换为其他不可变对象表示。</p>
<h3 id="Immutable-Object-类图"><a href="#Immutable-Object-类图" class="headerlink" title="Immutable Object 类图"></a>Immutable Object 类图</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="358px" preserveAspectRatio="none" style="width:389px;height:358px;" version="1.1" viewBox="0 0 389 358" width="389px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ewv4mjijxtrm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ed6624c6556d5e7b1bd23032162d20b7]
class Client--><rect fill="#FEFECE" filter="url(#f1ewv4mjijxtrm)" height="48" id="Client" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="167" y="8"/><ellipse cx="182" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M180.5781,29.3594 Q178.7188,29.3594 177.625,27.9688 Q176.5313,26.5781 176.5313,23.5938 Q176.5313,21.0625 177.6953,19.4063 Q178.8594,17.75 180.8438,17.75 Q182.3125,17.75 182.7813,17.875 Q183.25,18.0781 183.25,18.0781 Q183.25,18.0781 183.25,18.0078 Q183.25,17.9375 183.8594,17.0156 L184.9063,20.6719 L183.5781,21.0781 Q183.1094,19.5313 182.4453,18.8672 Q181.7813,18.2031 180.7188,18.2031 Q180.3281,18.2031 179.5625,19.7344 Q178.7969,21.2656 178.7969,23.5156 Q178.7969,25.9844 179.4609,27.375 Q180.125,28.7656 180.6563,28.7656 Q181.7188,28.7656 182.4766,28 Q183.2344,27.2344 183.5781,25.5781 L184.9063,26.1719 Q184.5781,27.5781 183.6797,28.4688 Q182.7813,29.3594 180.5781,29.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="196" y="29.5576">Client</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="168" x2="230" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168" x2="230" y1="48" y2="48"/><!--MD5=[e6b5a67f046c47f8f224e24eebb57bcd]
class Manipulator--><rect fill="#FEFECE" filter="url(#f1ewv4mjijxtrm)" height="63.0229" id="Manipulator" style="stroke: #A80036; stroke-width: 1.5;" width="182" x="6" y="146"/><ellipse cx="60.75" cy="162" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M59.3281,167.3594 Q57.4688,167.3594 56.375,165.9688 Q55.2813,164.5781 55.2813,161.5938 Q55.2813,159.0625 56.4453,157.4063 Q57.6094,155.75 59.5938,155.75 Q61.0625,155.75 61.5313,155.875 Q62,156.0781 62,156.0781 Q62,156.0781 62,156.0078 Q62,155.9375 62.6094,155.0156 L63.6563,158.6719 L62.3281,159.0781 Q61.8594,157.5313 61.1953,156.8672 Q60.5313,156.2031 59.4688,156.2031 Q59.0781,156.2031 58.3125,157.7344 Q57.5469,159.2656 57.5469,161.5156 Q57.5469,163.9844 58.2109,165.375 Q58.875,166.7656 59.4063,166.7656 Q60.4688,166.7656 61.2266,166 Q61.9844,165.2344 62.3281,163.5781 L63.6563,164.1719 Q63.3281,165.5781 62.4297,166.4688 Q61.5313,167.3594 59.3281,167.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="81.25" y="167.5576">Manipulator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="187" y1="178" y2="178"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="187" y1="186" y2="186"/><ellipse cx="17" cy="197" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="26" y="202.606">void changeStatusTo(int x, int y)</text><!--MD5=[1d051411bfd12184afb640e9f4bbb608]
class ImmutableState--><rect fill="#FEFECE" filter="url(#f1ewv4mjijxtrm)" height="123.1147" id="ImmutableState" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="223.5" y="116"/><ellipse cx="254.7" cy="132" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M253.2781,137.3594 Q251.4188,137.3594 250.325,135.9688 Q249.2313,134.5781 249.2313,131.5938 Q249.2313,129.0625 250.3953,127.4063 Q251.5594,125.75 253.5438,125.75 Q255.0125,125.75 255.4813,125.875 Q255.95,126.0781 255.95,126.0781 Q255.95,126.0781 255.95,126.0078 Q255.95,125.9375 256.5594,125.0156 L257.6063,128.6719 L256.2781,129.0781 Q255.8094,127.5313 255.1453,126.8672 Q254.4813,126.2031 253.4188,126.2031 Q253.0281,126.2031 252.2625,127.7344 Q251.4969,129.2656 251.4969,131.5156 Q251.4969,133.9844 252.1609,135.375 Q252.825,136.7656 253.3563,136.7656 Q254.4188,136.7656 255.1766,136 Q255.9344,135.2344 256.2781,133.5781 L257.6063,134.1719 Q257.2781,135.5781 256.3797,136.4688 Q255.4813,137.3594 253.2781,137.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="272.3" y="137.5576">ImmutableState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="224.5" x2="377.5" y1="148" y2="148"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="231.5" y="156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="243.5" y="164.606">final int x</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="231.5" y="171.0229"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="243.5" y="179.6289">final int y</text><ellipse cx="234.5" cy="189.0459" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="243.5" y="194.6519">int getX</text><ellipse cx="234.5" cy="204.0688" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="243.5" y="209.6748">int getY</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="224.5" x2="377.5" y1="216.0918" y2="216.0918"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="231.5" y="224.0918"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="243.5" y="232.6978">ImmutableState( int x, int y)</text><!--MD5=[e3238b9fd03ab94daa938f5e19edf1ad]
class ImmutalbeState--><rect fill="#FEFECE" filter="url(#f1ewv4mjijxtrm)" height="48" id="ImmutalbeState" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="37.5" y="299"/><ellipse cx="52.5" cy="315" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M51.0781,320.3594 Q49.2188,320.3594 48.125,318.9688 Q47.0313,317.5781 47.0313,314.5938 Q47.0313,312.0625 48.1953,310.4063 Q49.3594,308.75 51.3438,308.75 Q52.8125,308.75 53.2813,308.875 Q53.75,309.0781 53.75,309.0781 Q53.75,309.0781 53.75,309.0078 Q53.75,308.9375 54.3594,308.0156 L55.4063,311.6719 L54.0781,312.0781 Q53.6094,310.5313 52.9453,309.8672 Q52.2813,309.2031 51.2188,309.2031 Q50.8281,309.2031 50.0625,310.7344 Q49.2969,312.2656 49.2969,314.5156 Q49.2969,316.9844 49.9609,318.375 Q50.625,319.7656 51.1563,319.7656 Q52.2188,319.7656 52.9766,319 Q53.7344,318.2344 54.0781,316.5781 L55.4063,317.1719 Q55.0781,318.5781 54.1797,319.4688 Q53.2813,320.3594 51.0781,320.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="66.5" y="320.5576">ImmutalbeState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="155.5" y1="331" y2="331"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="38.5" x2="155.5" y1="339" y2="339"/><!--MD5=[5f15049ab25688dcf9e926fd701a54a6]
link Client to Manipulator--><path d="M182.612,56.056 C166.148,79.218 140.572,115.2 121.658,141.809 " fill="none" id="Client-&gt;Manipulator" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="118.682,145.996,127.1574,140.9793,121.5795,141.9212,120.6377,136.3433,118.682,145.996" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[e5ad24d8a3b1b3bbea1c607c5a86a42d]
link Client to ImmutableState--><path d="M215.388,56.056 C226.068,71.082 240.583,91.502 254.627,111.259 " fill="none" id="Client-&gt;ImmutableState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="257.803,115.728,255.8473,106.0753,254.9055,111.6532,249.3276,110.7113,257.803,115.728" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[aded766624436b47609ac3bf77b407f4]
reverse link Manipulator to ImmutalbeState--><path d="M97,222.614 C97,247.775 97,278.2874 97,298.811 " fill="none" id="Manipulator&lt;-ImmutalbeState" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="97,209.284,93,215.284,97,221.284,101,215.284,97,209.284" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[351415ad83c2b7db070aed7c5bbe47ab]
@startuml
class Client
class Manipulator {
    +void changeStatusTo(int x, int y)
}
class ImmutableState {
    -final int x
    -final int y
    -ImmutableState( int x, int y)
    +int getX
    +int getY
}
Client - -> Manipulator
Client - -> ImmutableState
Manipulator o- - ImmutalbeState

@enduml

PlantUML version 1.2020.10(Sun May 17 17:35:57 CST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_271-b09
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>


<h3 id="Sequence-Diagram"><a href="#Sequence-Diagram" class="headerlink" title="Sequence Diagram"></a>Sequence Diagram</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="384px" preserveAspectRatio="none" style="width:448px;height:384px;" version="1.1" viewBox="0 0 448 384" width="448px" zoomAndPan="magnify"><defs><filter height="300%" id="f1rrdyyzq55ke2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="281.6465" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="30" y="51.1201"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="124.5" y="74.8745"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="124.5" y="138.3833"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="124.5" y="309.7666"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="20.3657" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="364.5" y="243.6465"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="35" x2="35" y1="41.1201" y2="341.7666"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="129" x2="129" y1="41.1201" y2="341.7666"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="237" x2="237" y1="41.1201" y2="341.7666"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="369.5" x2="369.5" y1="243.9521" y2="341.7666"/><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="15" y="26.0439">Client</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="8" y="340.7666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="15" y="363.8105">Client</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="72" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="79" y="26.0439">ImmutableState</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="72" y="340.7666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="79" y="363.8105">ImmutableState</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="197" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="204" y="26.0439">Manulator</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="197" y="340.7666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="204" y="363.8105">Manulator</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="297.5" y="340.7666"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="304.5" y="363.8105">new ImmutableState</text><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="281.6465" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="30" y="51.1201"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="124.5" y="74.8745"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="31.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="124.5" y="138.3833"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="124.5" y="309.7666"/><rect fill="#FFFFFF" filter="url(#f1rrdyyzq55ke2)" height="20.3657" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="364.5" y="243.6465"/><polygon fill="#A80036" points="112.5,70.8745,122.5,74.8745,112.5,78.8745,116.5,74.8745" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40" x2="118.5" y1="74.8745" y2="74.8745"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="47" y="70.0181">getStateX</text><polygon fill="#A80036" points="51,102.6289,41,106.6289,51,110.6289,47,106.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="45" x2="128.5" y1="106.6289" y2="106.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="57" y="101.7725">StateX</text><polygon fill="#A80036" points="112.5,134.3833,122.5,138.3833,112.5,142.3833,116.5,138.3833" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40" x2="118.5" y1="138.3833" y2="138.3833"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="47" y="133.5269">getStateY</text><polygon fill="#A80036" points="51,166.1377,41,170.1377,51,174.1377,47,170.1377" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="45" x2="128.5" y1="170.1377" y2="170.1377"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="40" x="57" y="165.2813">StateY</text><polygon fill="#A80036" points="225.5,197.8921,235.5,201.8921,225.5,205.8921,229.5,201.8921" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40" x2="231.5" y1="201.8921" y2="201.8921"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="47" y="197.0356">changeState</text><polygon fill="#A80036" points="285.5,229.6465,295.5,233.6465,285.5,237.6465,289.5,233.6465" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="237.5" x2="291.5" y1="233.6465" y2="233.6465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="244.5" y="228.79">create</text><rect fill="#FEFECE" filter="url(#f1rrdyyzq55ke2)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="297.5" y="209.8921"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="304.5" y="232.936">new ImmutableState</text><polygon fill="#A80036" points="248.5,260.0122,238.5,264.0122,248.5,268.0122,244.5,264.0122" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="242.5" x2="368.5" y1="264.0122" y2="264.0122"/><polygon fill="#A80036" points="51,274.0122,41,278.0122,51,282.0122,47,278.0122" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="45" x2="236.5" y1="278.0122" y2="278.0122"/><polygon fill="#A80036" points="112.5,305.7666,122.5,309.7666,112.5,313.7666,116.5,309.7666" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="40" x2="118.5" y1="309.7666" y2="309.7666"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="47" y="304.9102">getState()</text><polygon fill="#A80036" points="51,319.7666,41,323.7666,51,327.7666,47,323.7666" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="45" x2="128.5" y1="323.7666" y2="323.7666"/><!--MD5=[e179a3c4b3fd44bf9af72dbe1f871bcd]
@startuml
activate Client

Client -> ImmutableState++ :getStateX

return StateX
Client -> ImmutableState++ :getStateY
return StateY
Client -> Manulator :changeState
    Manulator -> "new ImmutableState"** :create
    activate "new ImmutableState"
    return 
Manulator - -> Client
Client -> ImmutableState++ :getState()
return
@enduml

PlantUML version 1.2020.10(Sun May 17 17:35:57 CST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_271-b09
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>


    </div>

    
    
    
        

  <div class="followme">
    <p>Welcome to my other publishing channels</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/12/05/Others/git_tutorial/" rel="prev" title="GIT Rebase 学习 //TODO">
      <i class="fa fa-chevron-left"></i> GIT Rebase 学习 //TODO
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/12/08/Design%20Pattern/Concurrent%20Pattern/two-phase_termination/" rel="next" title="Two-phase Termination 两阶段终止模式">
      Two-phase Termination 两阶段终止模式 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%8D%E5%8F%AF%E5%8F%98%E5%AF%B9%E8%B1%A1%E5%8F%8A%E5%85%B6%E4%BD%9C%E7%94%A8"><span class="nav-number">1.</span> <span class="nav-text">不可变对象及其作用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Immutable-Object-%E7%B1%BB%E5%9B%BE"><span class="nav-number">2.</span> <span class="nav-text">Immutable Object 类图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sequence-Diagram"><span class="nav-number">3.</span> <span class="nav-text">Sequence Diagram</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Vincent Q</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">30</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2020 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Vincent Q</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
