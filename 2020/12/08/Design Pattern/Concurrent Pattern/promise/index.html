<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"q0519.gitee.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="说明通过返回包含阻塞方法的凭据对象，使得调用方法无需等待即可继续执行，待需要结果时，通过调用凭据对象的阻塞方法获取结果。 类图ClientPromisorPromise compute()TaskExecutorrun()ResultPromiseResult getResult()setResult( Result )isDone()  Sequence DiagramClientClientP">
<meta property="og:type" content="article">
<meta property="og:title" content="Promise 承诺模式">
<meta property="og:url" content="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/promise/index.html">
<meta property="og:site_name" content="Blog">
<meta property="og:description" content="说明通过返回包含阻塞方法的凭据对象，使得调用方法无需等待即可继续执行，待需要结果时，通过调用凭据对象的阻塞方法获取结果。 类图ClientPromisorPromise compute()TaskExecutorrun()ResultPromiseResult getResult()setResult( Result )isDone()  Sequence DiagramClientClientP">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-12-08T07:32:12.123Z">
<meta property="article:modified_time" content="2020-12-08T07:50:09.595Z">
<meta property="article:author" content="Vincent Q">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/promise/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>Promise 承诺模式 | Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://q0519.gitee.io/2020/12/08/Design%20Pattern/Concurrent%20Pattern/promise/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Vincent Q">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Promise 承诺模式
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-12-08 15:32:12 / Modified: 15:50:09" itemprop="dateCreated datePublished" datetime="2020-12-08T15:32:12+08:00">2020-12-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/" itemprop="url" rel="index"><span itemprop="name">Design Pattern</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Design-Pattern/Concurrent-Pattern/" itemprop="url" rel="index"><span itemprop="name">Concurrent Pattern</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>通过返回包含阻塞方法的凭据对象，使得调用方法无需等待即可继续执行，待需要结果时，通过调用凭据对象的阻塞方法获取结果。</p>
<h3 id="类图"><a href="#类图" class="headerlink" title="类图"></a>类图</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="466px" preserveAspectRatio="none" style="width:235px;height:466px;" version="1.1" viewBox="0 0 235 466" width="235px" zoomAndPan="magnify"><defs><filter height="300%" id="f18zfauvwnwluq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[ed6624c6556d5e7b1bd23032162d20b7]
class Client--><rect fill="#FEFECE" filter="url(#f18zfauvwnwluq)" height="48" id="Client" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="102.5" y="8"/><ellipse cx="117.5" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M116.0781,29.3594 Q114.2188,29.3594 113.125,27.9688 Q112.0313,26.5781 112.0313,23.5938 Q112.0313,21.0625 113.1953,19.4063 Q114.3594,17.75 116.3438,17.75 Q117.8125,17.75 118.2813,17.875 Q118.75,18.0781 118.75,18.0781 Q118.75,18.0781 118.75,18.0078 Q118.75,17.9375 119.3594,17.0156 L120.4063,20.6719 L119.0781,21.0781 Q118.6094,19.5313 117.9453,18.8672 Q117.2813,18.2031 116.2188,18.2031 Q115.8281,18.2031 115.0625,19.7344 Q114.2969,21.2656 114.2969,23.5156 Q114.2969,25.9844 114.9609,27.375 Q115.625,28.7656 116.1563,28.7656 Q117.2188,28.7656 117.9766,28 Q118.7344,27.2344 119.0781,25.5781 L120.4063,26.1719 Q120.0781,27.5781 119.1797,28.4688 Q118.2813,29.3594 116.0781,29.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="131.5" y="29.5576">Client</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="103.5" x2="165.5" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="103.5" x2="165.5" y1="48" y2="48"/><!--MD5=[443d23e8e2b3ceb395e1e555e3eab31e]
class Promisor--><rect fill="#FEFECE" filter="url(#f18zfauvwnwluq)" height="63.0229" id="Promisor" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="21.5" y="116"/><ellipse cx="51.35" cy="132" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M49.9281,137.3594 Q48.0688,137.3594 46.975,135.9688 Q45.8813,134.5781 45.8813,131.5938 Q45.8813,129.0625 47.0453,127.4063 Q48.2094,125.75 50.1938,125.75 Q51.6625,125.75 52.1313,125.875 Q52.6,126.0781 52.6,126.0781 Q52.6,126.0781 52.6,126.0078 Q52.6,125.9375 53.2094,125.0156 L54.2563,128.6719 L52.9281,129.0781 Q52.4594,127.5313 51.7953,126.8672 Q51.1313,126.2031 50.0688,126.2031 Q49.6781,126.2031 48.9125,127.7344 Q48.1469,129.2656 48.1469,131.5156 Q48.1469,133.9844 48.8109,135.375 Q49.475,136.7656 50.0063,136.7656 Q51.0688,136.7656 51.8266,136 Q52.5844,135.2344 52.9281,133.5781 L54.2563,134.1719 Q53.9281,135.5781 53.0297,136.4688 Q52.1313,137.3594 49.9281,137.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="51" x="68.65" y="137.5576">Promisor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="136.5" y1="148" y2="148"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="22.5" x2="136.5" y1="156" y2="156"/><ellipse cx="32.5" cy="167" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="41.5" y="172.606">Promise compute()</text><!--MD5=[f1a375cc0ebc9f2bec7aa9b05864ef19]
class TaskExecutor--><rect fill="#FEFECE" filter="url(#f18zfauvwnwluq)" height="63.0229" id="TaskExecutor" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="26.5" y="239"/><ellipse cx="41.5" cy="255" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M40.0781,260.3594 Q38.2188,260.3594 37.125,258.9688 Q36.0313,257.5781 36.0313,254.5938 Q36.0313,252.0625 37.1953,250.4063 Q38.3594,248.75 40.3438,248.75 Q41.8125,248.75 42.2813,248.875 Q42.75,249.0781 42.75,249.0781 Q42.75,249.0781 42.75,249.0078 Q42.75,248.9375 43.3594,248.0156 L44.4063,251.6719 L43.0781,252.0781 Q42.6094,250.5313 41.9453,249.8672 Q41.2813,249.2031 40.2188,249.2031 Q39.8281,249.2031 39.0625,250.7344 Q38.2969,252.2656 38.2969,254.5156 Q38.2969,256.9844 38.9609,258.375 Q39.625,259.7656 40.1563,259.7656 Q41.2188,259.7656 41.9766,259 Q42.7344,258.2344 43.0781,256.5781 L44.4063,257.1719 Q44.0781,258.5781 43.1797,259.4688 Q42.2813,260.3594 40.0781,260.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="55.5" y="260.5576">TaskExecutor</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="27.5" x2="131.5" y1="271" y2="271"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="27.5" x2="131.5" y1="279" y2="279"/><ellipse cx="37.5" cy="290" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="46.5" y="295.606">run()</text><!--MD5=[2741598bdf59a7d7e0d5c97658fd3022]
class Result--><rect fill="#FEFECE" filter="url(#f18zfauvwnwluq)" height="48" id="Result" style="stroke: #A80036; stroke-width: 1.5;" width="68" x="156.5" y="384.5"/><ellipse cx="171.5" cy="400.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M170.0781,405.8594 Q168.2188,405.8594 167.125,404.4688 Q166.0313,403.0781 166.0313,400.0938 Q166.0313,397.5625 167.1953,395.9063 Q168.3594,394.25 170.3438,394.25 Q171.8125,394.25 172.2813,394.375 Q172.75,394.5781 172.75,394.5781 Q172.75,394.5781 172.75,394.5078 Q172.75,394.4375 173.3594,393.5156 L174.4063,397.1719 L173.0781,397.5781 Q172.6094,396.0313 171.9453,395.3672 Q171.2813,394.7031 170.2188,394.7031 Q169.8281,394.7031 169.0625,396.2344 Q168.2969,397.7656 168.2969,400.0156 Q168.2969,402.4844 168.9609,403.875 Q169.625,405.2656 170.1563,405.2656 Q171.2188,405.2656 171.9766,404.5 Q172.7344,403.7344 173.0781,402.0781 L174.4063,402.6719 Q174.0781,404.0781 173.1797,404.9688 Q172.2813,405.8594 170.0781,405.8594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="185.5" y="406.0576">Result</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="157.5" x2="223.5" y1="416.5" y2="416.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="157.5" x2="223.5" y1="424.5" y2="424.5"/><!--MD5=[b59cb0292cbab4b73c77d0ad579c4efd]
class Promise--><rect fill="#FEFECE" filter="url(#f18zfauvwnwluq)" height="93.0688" id="Promise" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="6" y="362"/><ellipse cx="37.2" cy="378" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M35.7781,383.3594 Q33.9188,383.3594 32.825,381.9688 Q31.7313,380.5781 31.7313,377.5938 Q31.7313,375.0625 32.8953,373.4063 Q34.0594,371.75 36.0438,371.75 Q37.5125,371.75 37.9813,371.875 Q38.45,372.0781 38.45,372.0781 Q38.45,372.0781 38.45,372.0078 Q38.45,371.9375 39.0594,371.0156 L40.1063,374.6719 L38.7781,375.0781 Q38.3094,373.5313 37.6453,372.8672 Q36.9813,372.2031 35.9188,372.2031 Q35.5281,372.2031 34.7625,373.7344 Q33.9969,375.2656 33.9969,377.5156 Q33.9969,379.9844 34.6609,381.375 Q35.325,382.7656 35.8563,382.7656 Q36.9188,382.7656 37.6766,382 Q38.4344,381.2344 38.7781,379.5781 L40.1063,380.1719 Q39.7781,381.5781 38.8797,382.4688 Q37.9813,383.3594 35.7781,383.3594 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="47" x="54.8" y="383.5576">Promise</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="120" y1="394" y2="394"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="120" y1="402" y2="402"/><ellipse cx="17" cy="413" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="26" y="418.606">Result getResult()</text><ellipse cx="17" cy="428.0229" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="26" y="433.6289">setResult( Result )</text><ellipse cx="17" cy="443.0459" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="26" y="448.6519">isDone()</text><!--MD5=[942327270a8f2ccb3a614b72a69fd8cc]
link Client to Promisor--><path d="M123.237,56.242 C115.596,72.011 105.3486,93.158 96.6937,111.018 " fill="none" id="Client-&gt;Promisor" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="94.2983,115.962,101.8222,109.6066,96.4784,111.4623,94.6227,106.1185,94.2983,115.962" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[5ea63eac58c27fa85012a05effbb153c]
link Client to Result--><path d="M140.814,56.105 C145.158,72.674 150.792,95.583 154.5,116 C171.899,211.798 183.371,326.858 188.078,379.1516 " fill="none" id="Client-&gt;Result" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="188.539,384.314,191.7226,374.9939,188.0943,379.3338,183.7543,375.7055,188.539,384.314" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[59a89bbfb2c42d0f04faa58ba718f231]
link Promisor to TaskExecutor--><path d="M79.5,179.033 C79.5,195.656 79.5,216.318 79.5,233.696 " fill="none" id="Promisor-&gt;TaskExecutor" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="79.5,238.976,83.5,229.976,79.5,233.976,75.5,229.976,79.5,238.976" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[a940c7f23864681c79c1fb76262dc48b]
link TaskExecutor to Promise--><path d="M75.9093,302.021 C74.0144,318.128 71.6395,338.314 69.4761,356.7036 " fill="none" id="TaskExecutor-&gt;Promise" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="68.872,361.8379,73.8963,353.367,69.4563,356.8722,65.9511,352.4321,68.872,361.8379" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[f5c86a66c2bd4a1200de654cea7643c5]
link TaskExecutor to Result--><path d="M104.4106,302.021 C123.546,325.466 149.736,357.5551 168.189,380.1645 " fill="none" id="TaskExecutor-&gt;Result" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="171.542,384.2717,168.9509,374.7698,168.3808,380.3978,162.7527,379.8277,171.542,384.2717" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8c5bf4d90b56fd6db2c20e1d6a59da81]
@startuml
class Client

class Promisor {
	+Promise compute()
}
class TaskExecutor {
	+run()
}
class Result

class Promise {
	+Result getResult()
	+setResult( Result )
	+isDone()
}

Client ..> Promisor

Client ..> Result

Promisor ..> TaskExecutor

TaskExecutor ..> Promise 

TaskExecutor ..> Result


@enduml

PlantUML version 1.2020.10(Sun May 17 17:35:57 CST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_271-b09
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>

<h3 id="Sequence-Diagram"><a href="#Sequence-Diagram" class="headerlink" title="Sequence Diagram"></a>Sequence Diagram</h3><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="227px" preserveAspectRatio="none" style="width:297px;height:227px;" version="1.1" viewBox="0 0 297 227" width="297px" zoomAndPan="magnify"><defs><filter height="300%" id="foce3n4f5xh8u" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#foce3n4f5xh8u)" height="45.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="135" y="74.8745"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="35" x2="35" y1="41.1201" y2="184.3833"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="140" x2="140" y1="41.1201" y2="184.3833"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="255.5" x2="255.5" y1="41.1201" y2="184.3833"/><rect fill="#FEFECE" filter="url(#foce3n4f5xh8u)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="15" y="26.0439">Client</text><rect fill="#FEFECE" filter="url(#foce3n4f5xh8u)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="8" y="183.3833"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="15" y="206.4272">Client</text><rect fill="#FEFECE" filter="url(#foce3n4f5xh8u)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="103" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="110" y="26.0439">Promisor</text><rect fill="#FEFECE" filter="url(#foce3n4f5xh8u)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="70" x="103" y="183.3833"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="56" x="110" y="206.4272">Promisor</text><rect fill="#FEFECE" filter="url(#foce3n4f5xh8u)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="221.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="228.5" y="26.0439">Promise</text><rect fill="#FEFECE" filter="url(#foce3n4f5xh8u)" height="33.1201" style="stroke: #A80036; stroke-width: 1.5;" width="65" x="221.5" y="183.3833"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="51" x="228.5" y="206.4272">Promise</text><rect fill="#FFFFFF" filter="url(#foce3n4f5xh8u)" height="45.7544" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="135" y="74.8745"/><polygon fill="#A80036" points="123,70.8745,133,74.8745,123,78.8745,127,74.8745" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35" x2="129" y1="74.8745" y2="74.8745"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="42" y="70.0181">1 : computer()</text><polygon fill="#A80036" points="244,102.6289,254,106.6289,244,110.6289,248,106.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="145" x2="250" y1="106.6289" y2="106.6289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="152" y="101.7725">2 : &lt;&lt;create&gt;&gt;</text><polygon fill="#A80036" points="46,116.6289,36,120.6289,46,124.6289,42,120.6289" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="40" x2="139" y1="120.6289" y2="120.6289"/><polygon fill="#A80036" points="244,148.3833,254,152.3833,244,156.3833,248,152.3833" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="35" x2="250" y1="152.3833" y2="152.3833"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="82" x="42" y="147.5269">4 : getResult()</text><polygon fill="#A80036" points="46,162.3833,36,166.3833,46,170.3833,42,166.3833" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="40" x2="255" y1="166.3833" y2="166.3833"/><!--MD5=[480549f5916095fe4275544836d47c4d]
@startuml

Client -> Promisor++ :1 : computer()
Promisor -> Promise :2 : <<create>>
return

Client -> Promise :4 : getResult()
return

@enduml

PlantUML version 1.2020.10(Sun May 17 17:35:57 CST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_271-b09
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>
    </div>

    
    
    
        

  <div class="followme">
    <p>Welcome to my other publishing channels</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/12/08/Design%20Pattern/Concurrent%20Pattern/two-phase_termination/" rel="prev" title="Two-phase Termination 两阶段终止模式">
      <i class="fa fa-chevron-left"></i> Two-phase Termination 两阶段终止模式
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/12/08/Design%20Pattern/Concurrent%20Pattern/product_consumer/" rel="next" title="Product-consumer 模式">
      Product-consumer 模式 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%B4%E6%98%8E"><span class="nav-number">1.</span> <span class="nav-text">说明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B1%BB%E5%9B%BE"><span class="nav-number">2.</span> <span class="nav-text">类图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Sequence-Diagram"><span class="nav-number">3.</span> <span class="nav-text">Sequence Diagram</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Vincent Q</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Vincent Q</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
