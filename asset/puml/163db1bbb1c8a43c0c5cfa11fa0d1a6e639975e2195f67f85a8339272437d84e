@startuml
Client -> GuardedObject++ : 1 : guardedMethod()
GuardedObject -> GuardedAction :2 : <<create>>

GuardedObject -> Blocker++ : 3 : callWithGuard()
Blocker -> GuardedObject : getGuard()
GuardedObject --> Blocker :5: predicate

loop SuspendIfNecessary
    Blocker -> Predicate++ :6 : evaluate()
    Predicate --> Blocker-- :7 : isPredicateTrue
    Blocker -> Condition :8 : await()

end

Blocker -> GuardedAction :9 :call()
GuardedAction --> Blocker :10 : actionReturnValue
Blocker --> GuardedObject : 11 : actionReturnValue
GuardedObject --> Client
@enduml